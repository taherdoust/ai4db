{"id": "cim_000167", "database_id": 1, "database_name": "cim_wizard", "question": "Find residential buildings with area greater than 85 square meters in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 100 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT b.building_id, b.lod, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' \n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.type = 'residential'\n  AND public.ST_Area(b.building_geometry) > 85;", "sql_spatialite": "SELECT b.building_id, b.lod, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' \n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.type = 'residential'\n  AND public.ST_Area(b.building_geometry) > 85\nLIMIT 100;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "primary_schema": "public", "table_count": 11, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find residential buildings with area greater than 85 square meters in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A1_building_by_type_var_168", "complexity_level": "A", "tags": ["area_filter", "building", "type_filter", "basic"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "0069f14b-4147-4254-a727-04198d14fab6", "census_id": "00fe1681-93ca-4309-a17b-287b3f2ca616", "voltage_kv": 20.0, "bus_id": "15", "census_zone": "12720002002", "srid": 32633, "overlap_threshold": 10, "buffer_distance": 500, "max_distance": 1000, "cluster_distance": 5000, "min_area": 356, "max_area": 1238, "min_height": 4, "max_height": 29, "min_people": 5, "max_people": 17, "year": 2013, "min_population": 100, "min_buildings": 20, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 14.250063, "lat": 44.47099, "limit": 50}, "generated_at": "2025-11-24T10:45:34.731004", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000175", "database_id": 1, "database_name": "cim_wizard", "question": "Find non-residential buildings with area greater than 118 square meters in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, limit to 10 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT b.building_id, b.lod, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.type = 'non-residential'\n  AND public.ST_Area(b.building_geometry) > 118;", "sql_spatialite": "SELECT b.building_id, b.lod, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.type = 'non-residential'\n  AND public.ST_Area(b.building_geometry) > 118\nLIMIT 10;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "primary_schema": "public", "table_count": 11, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find non-residential buildings with area greater than 118 square meters in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A1_building_by_type_var_176", "complexity_level": "A", "tags": ["area_filter", "building", "type_filter", "basic"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "00887359-a93c-4b0c-8cb8-1535ae3ad1f7", "census_id": "014844ab-0449-47ef-bd20-797f10d7f4d6", "voltage_kv": 0.4, "bus_id": "5", "census_zone": "12720001637", "srid": 32633, "overlap_threshold": 10, "buffer_distance": 500, "max_distance": 5000, "cluster_distance": 1000, "min_area": 213, "max_area": 1425, "min_height": 6, "max_height": 66, "min_people": 4, "max_people": 19, "year": 2011, "min_population": 1000, "min_buildings": 5, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 5, "min_points": 8, "lon": 9.379736, "lat": 43.137552, "limit": 25}, "generated_at": "2025-11-24T10:45:34.731669", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000250", "database_id": 1, "database_name": "cim_wizard", "question": "Find project scenarios that contain the geographic point at longitude 13.143357 latitude 36.136653 with SRID 3857, limit to 100 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT ps.project_name, ps.scenario_name, public.ST_Area(ps.project_boundary) as project_area_sqm\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE public.ST_Intersects(ps.project_boundary, public.ST_SetSRID(public.ST_MakePoint(13.143357, 36.136653), 3857));", "sql_spatialite": "SELECT ps.project_name, ps.scenario_name, public.ST_Area(ps.project_boundary) as project_area_sqm\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE public.ST_Intersects(ps.project_boundary, public.ST_SetSRID(public.ST_MakePoint(13.143357, 36.136653), 3857))\nLIMIT 100;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["13", "36", "cim_vector", "public", "ps"], "tables": ["cim_vector.cim_wizard_project_scenario", "public.ST_MakePoint", "ps.scenario_name", "public.ST_Intersects", "36.136653", "ps.project_boundary", "13.143357", "public.ST_SetSRID", "public.ST_Area", "ps.project_name"], "primary_schema": "13", "table_count": 10, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_MAKEPOINT", "ST_SETSRID", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_MAKEPOINT", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_SETSRID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["13", "36", "cim_vector", "public", "ps"], "tables": ["cim_vector.cim_wizard_project_scenario", "public.ST_MakePoint", "ps.scenario_name", "public.ST_Intersects", "36.136653", "ps.project_boundary", "13.143357", "public.ST_SetSRID", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_SetSRID", "ST_MakePoint", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find project scenarios that contain the geographic point at longitude 13.143357 latitude 36.136653 with SRID 3857, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A2_project_at_location_var_51", "complexity_level": "A", "tags": ["project", "point_in_polygon", "basic"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "02491899-ba02-4ed3-afca-43985ff180d8", "census_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "voltage_kv": 132.0, "bus_id": "7", "census_zone": "12720001821", "srid": 32633, "overlap_threshold": 40, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 1000, "min_area": 121, "max_area": 4160, "min_height": 10, "max_height": 91, "min_people": 1, "max_people": 15, "year": 1974, "min_population": 100, "min_buildings": 5, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 3, "min_points": 8, "lon": 12.577384, "lat": 41.852414, "limit": 100}, "generated_at": "2025-11-24T10:45:34.737194", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000276", "database_id": 1, "database_name": "cim_wizard", "question": "Find project scenarios that contain the geographic point at longitude 12.669062 latitude 43.387163 with SRID 32633, limit to 25 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT ps.project_name, ps.scenario_name, public.ST_Area(ps.project_boundary) as project_area_sqm\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE public.ST_Intersects(ps.project_boundary, public.ST_SetSRID(public.ST_MakePoint(12.669062, 43.387163), 32633));", "sql_spatialite": "SELECT ps.project_name, ps.scenario_name, public.ST_Area(ps.project_boundary) as project_area_sqm\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE public.ST_Intersects(ps.project_boundary, public.ST_SetSRID(public.ST_MakePoint(12.669062, 43.387163), 32633))\nLIMIT 25;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_vector", "public", "ps", "43", "12"], "tables": ["43.387163", "cim_vector.cim_wizard_project_scenario", "public.ST_MakePoint", "ps.scenario_name", "public.ST_Intersects", "12.669062", "ps.project_boundary", "public.ST_SetSRID", "public.ST_Area", "ps.project_name"], "primary_schema": "cim_vector", "table_count": 10, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_MAKEPOINT", "ST_SETSRID", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_MAKEPOINT", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_SETSRID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "public", "ps", "43", "12"], "tables": ["43.387163", "cim_vector.cim_wizard_project_scenario", "public.ST_MakePoint", "ps.scenario_name", "public.ST_Intersects", "12.669062", "ps.project_boundary", "public.ST_SetSRID", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_SetSRID", "ST_MakePoint", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find project scenarios that contain the geographic point at longitude 12.669062 latitude 43.387163 with SRID 32633, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A2_project_at_location_var_77", "complexity_level": "A", "tags": ["project", "point_in_polygon", "basic"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 400.0, "bus_id": "2", "census_zone": "12720001821", "srid": 3857, "overlap_threshold": 60, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 5000, "min_area": 105, "max_area": 3121, "min_height": 4, "max_height": 73, "min_people": 3, "max_people": 10, "year": 1950, "min_population": 500, "min_buildings": 10, "min_areas": 10, "cluster_count": 10, "min_cluster_size": 10, "min_points": 8, "lon": 16.387246, "lat": 37.285798, "limit": 25}, "generated_at": "2025-11-24T10:45:34.739136", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000388", "database_id": 1, "database_name": "cim_wizard", "question": "Find project scenarios that contain the geographic point at longitude 11.640248 latitude 42.356641 with SRID 32633, limit to 25 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT ps.project_name, ps.scenario_name, public.ST_Area(ps.project_boundary) as project_area_sqm\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE public.ST_Intersects(ps.project_boundary, public.ST_SetSRID(public.ST_MakePoint(11.640248, 42.356641), 32633));", "sql_spatialite": "SELECT ps.project_name, ps.scenario_name, public.ST_Area(ps.project_boundary) as project_area_sqm\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE public.ST_Intersects(ps.project_boundary, public.ST_SetSRID(public.ST_MakePoint(11.640248, 42.356641), 32633))\nLIMIT 25;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_vector", "42", "public", "ps", "11"], "tables": ["cim_vector.cim_wizard_project_scenario", "public.ST_MakePoint", "ps.scenario_name", "public.ST_Intersects", "42.356641", "ps.project_boundary", "public.ST_SetSRID", "11.640248", "public.ST_Area", "ps.project_name"], "primary_schema": "cim_vector", "table_count": 10, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_MAKEPOINT", "ST_SETSRID", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_MAKEPOINT", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_SETSRID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "42", "public", "ps", "11"], "tables": ["cim_vector.cim_wizard_project_scenario", "public.ST_MakePoint", "ps.scenario_name", "public.ST_Intersects", "42.356641", "ps.project_boundary", "public.ST_SetSRID", "11.640248", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_SetSRID", "ST_MakePoint", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find project scenarios that contain the geographic point at longitude 11.640248 latitude 42.356641 with SRID 32633, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A2_project_at_location_var_189", "complexity_level": "A", "tags": ["project", "point_in_polygon", "basic"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "00633a25-715f-4e23-9c24-c8c5e4e2678c", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 400.0, "bus_id": "12", "census_zone": "12720002064", "srid": 32632, "overlap_threshold": 30, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 2000, "min_area": 210, "max_area": 3799, "min_height": 10, "max_height": 95, "min_people": 5, "max_people": 13, "year": 1958, "min_population": 100, "min_buildings": 20, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 5, "min_points": 3, "lon": 11.259193, "lat": 36.477865, "limit": 50}, "generated_at": "2025-11-24T10:45:34.748055", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000422", "database_id": 1, "database_name": "cim_wizard", "question": "Find active grid buses with voltage at or above 132.0 kV, limit to 10 results", "question_tone": "DIRECT", "priority": 3, "sql_postgis": "SELECT gb.bus_id, gb.bus_name, gb.voltage_kv, public.ST_X(gb.geometry) as lon, public.ST_Y(gb.geometry) as lat\nFROM cim_network.network_buses gb\nWHERE gb.voltage_kv >= 132.0\n  AND gb.in_service = true\nLIMIT 10;", "sql_spatialite": "SELECT gb.bus_id, gb.bus_name, gb.voltage_kv, public.ST_X(gb.geometry) as lon, public.ST_Y(gb.geometry) as lat\nFROM cim_network.network_buses gb\nWHERE gb.voltage_kv >= 132.0\n  AND gb.in_service = true\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["gb", "public", "132", "cim_network"], "tables": ["gb.voltage_kv", "gb.bus_name", "gb.in_service", "gb.bus_id", "public.ST_Y", "cim_network.network_buses", "gb.geometry", "public.ST_X", "132.0"], "primary_schema": "gb", "table_count": 9, "schema_count": 4}, "spatial_functions": ["ST_Y", "ST_X"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_Y", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "basic"}, {"name": "ST_X", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "basic"}], "evidence": {"database": "cim_wizard", "schemas": ["gb", "public", "132", "cim_network"], "tables": ["gb.voltage_kv", "gb.bus_name", "gb.in_service", "gb.bus_id", "public.ST_Y", "cim_network.network_buses", "gb.geometry", "public.ST_X", "132.0"], "columns": [], "functions": ["ST_Y", "ST_X"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find active grid buses with voltage at or above 132.0 kV, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A3_grid_buses_by_voltage_var_23", "complexity_level": "A", "tags": ["basic", "voltage_filter", "grid"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "00e03e68-75cd-4e76-990e-a5295c721e2e", "census_id": "00b21ae4-2343-42ee-8c53-e12e4a96e409", "voltage_kv": 0.4, "bus_id": "15", "census_zone": "10240000037", "srid": 32633, "overlap_threshold": 40, "buffer_distance": 2000, "max_distance": 5000, "cluster_distance": 1000, "min_area": 372, "max_area": 4597, "min_height": 8, "max_height": 85, "min_people": 2, "max_people": 12, "year": 1997, "min_population": 1000, "min_buildings": 10, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 10, "min_points": 5, "lon": 12.516482, "lat": 37.70741, "limit": 100}, "generated_at": "2025-11-24T10:45:34.750261", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000535", "database_id": 1, "database_name": "cim_wizard", "question": "Find active grid buses with voltage at or above 20.0 kV, limit to 25 results", "question_tone": "DIRECT", "priority": 3, "sql_postgis": "SELECT gb.bus_id, gb.bus_name, gb.voltage_kv, public.ST_X(gb.geometry) as lon, public.ST_Y(gb.geometry) as lat\nFROM cim_network.network_buses gb\nWHERE gb.voltage_kv >= 20.0\n  AND gb.in_service = true;", "sql_spatialite": "SELECT gb.bus_id, gb.bus_name, gb.voltage_kv, public.ST_X(gb.geometry) as lon, public.ST_Y(gb.geometry) as lat\nFROM cim_network.network_buses gb\nWHERE gb.voltage_kv >= 20.0\n  AND gb.in_service = true\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["gb", "public", "20", "cim_network"], "tables": ["gb.voltage_kv", "gb.bus_name", "gb.in_service", "gb.bus_id", "public.ST_Y", "20.0", "cim_network.network_buses", "gb.geometry", "public.ST_X"], "primary_schema": "gb", "table_count": 9, "schema_count": 4}, "spatial_functions": ["ST_Y", "ST_X"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_Y", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "basic"}, {"name": "ST_X", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "basic"}], "evidence": {"database": "cim_wizard", "schemas": ["gb", "public", "20", "cim_network"], "tables": ["gb.voltage_kv", "gb.bus_name", "gb.in_service", "gb.bus_id", "public.ST_Y", "20.0", "cim_network.network_buses", "gb.geometry", "public.ST_X"], "columns": [], "functions": ["ST_Y", "ST_X"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find active grid buses with voltage at or above 20.0 kV, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A3_grid_buses_by_voltage_var_136", "complexity_level": "A", "tags": ["basic", "voltage_filter", "grid"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "02f3c101-222f-4f48-8a0a-6aee8b7c50e8", "census_id": "0098d25a-d0b1-4081-ba67-ae9112bbbf95", "voltage_kv": 132.0, "bus_id": "9", "census_zone": "10180000029", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 239, "max_area": 1828, "min_height": 3, "max_height": 85, "min_people": 4, "max_people": 19, "year": 1995, "min_population": 1000, "min_buildings": 10, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 3, "min_points": 5, "lon": 14.020553, "lat": 43.706178, "limit": 10}, "generated_at": "2025-11-24T10:45:34.757662", "has_limit": false, "has_order_by": false, "limit_strategy": "TOP_N"}
{"id": "cim_000576", "database_id": 1, "database_name": "cim_wizard", "question": "Find active grid buses with voltage at or above 400.0 kV, limit to 50 results", "question_tone": "DIRECT", "priority": 3, "sql_postgis": "SELECT gb.bus_id, gb.bus_name, gb.voltage_kv, public.ST_X(gb.geometry) as lon, public.ST_Y(gb.geometry) as lat\nFROM cim_network.network_buses gb\nWHERE gb.voltage_kv >= 400.0\n  AND gb.in_service = true;", "sql_spatialite": "SELECT gb.bus_id, gb.bus_name, gb.voltage_kv, public.ST_X(gb.geometry) as lon, public.ST_Y(gb.geometry) as lat\nFROM cim_network.network_buses gb\nWHERE gb.voltage_kv >= 400.0\n  AND gb.in_service = true\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["gb", "public", "400", "cim_network"], "tables": ["gb.voltage_kv", "gb.bus_name", "gb.in_service", "gb.bus_id", "public.ST_Y", "cim_network.network_buses", "gb.geometry", "400.0", "public.ST_X"], "primary_schema": "gb", "table_count": 9, "schema_count": 4}, "spatial_functions": ["ST_Y", "ST_X"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_Y", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "basic"}, {"name": "ST_X", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "basic"}], "evidence": {"database": "cim_wizard", "schemas": ["gb", "public", "400", "cim_network"], "tables": ["gb.voltage_kv", "gb.bus_name", "gb.in_service", "gb.bus_id", "public.ST_Y", "cim_network.network_buses", "gb.geometry", "400.0", "public.ST_X"], "columns": [], "functions": ["ST_Y", "ST_X"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find active grid buses with voltage at or above 400.0 kV, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A3_grid_buses_by_voltage_var_177", "complexity_level": "A", "tags": ["basic", "voltage_filter", "grid"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "0033de25-d7d1-48d5-98c3-bc02973a13c0", "census_id": "0098d25a-d0b1-4081-ba67-ae9112bbbf95", "voltage_kv": 400.0, "bus_id": "1", "census_zone": "12720001946", "srid": 32632, "overlap_threshold": 10, "buffer_distance": 2000, "max_distance": 5000, "cluster_distance": 1000, "min_area": 364, "max_area": 3102, "min_height": 8, "max_height": 39, "min_people": 4, "max_people": 14, "year": 1992, "min_population": 500, "min_buildings": 20, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 10, "min_points": 8, "lon": 7.578918, "lat": 42.966269, "limit": 50}, "generated_at": "2025-11-24T10:45:34.760423", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000693", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze population distribution by gender in census areas with minimum population of 500, ordered by total population descending, limit to 25 results", "question_tone": "ANALYTICAL", "priority": 3, "sql_postgis": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500\nORDER BY c.p1 DESC\nLIMIT 25;", "sql_spatialite": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500\nORDER BY c.p1 DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "primary_schema": "c", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze population distribution by gender in census areas with minimum population of 500, ordered by total population descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A4_census_population_var_94", "complexity_level": "A", "tags": ["basic", "demographics", "census"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "00b272c0-0e93-4d53-a969-d768c3280dce", "census_id": "0216d44d-d352-4f12-bd16-79ba0f2dc167", "voltage_kv": 0.4, "bus_id": "1", "census_zone": "12720002002", "srid": 32632, "overlap_threshold": 20, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 1000, "min_area": 180, "max_area": 1142, "min_height": 3, "max_height": 41, "min_people": 4, "max_people": 8, "year": 2005, "min_population": 1000, "min_buildings": 5, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 5, "min_points": 3, "lon": 10.622229, "lat": 38.461883, "limit": 50}, "generated_at": "2025-11-24T10:45:34.766885", "has_limit": true, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000742", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze population distribution by gender in census areas with minimum population of 500, showing total population descending, limit to 10 results", "question_tone": "ANALYTICAL", "priority": 3, "sql_postgis": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500LIMIT 10;", "sql_spatialite": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500\nORDER BY c.p1 DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "primary_schema": "c", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze population distribution by gender in census areas with minimum population of 500, showing total population descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A4_census_population_var_143", "complexity_level": "A", "tags": ["basic", "demographics", "census"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "03121e2b-62b8-466f-9595-a5145e1ca2df", "census_id": "01808035-47bd-4a6f-81ba-07ef5e44f93d", "voltage_kv": 132.0, "bus_id": "1", "census_zone": "11830000022", "srid": 32633, "overlap_threshold": 10, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 5000, "min_area": 416, "max_area": 4474, "min_height": 8, "max_height": 42, "min_people": 3, "max_people": 16, "year": 1975, "min_population": 100, "min_buildings": 10, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 3, "min_points": 3, "lon": 17.086816, "lat": 40.862429, "limit": 100}, "generated_at": "2025-11-24T10:45:34.769289", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000761", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze population distribution by gender in census areas with minimum population of 500, showing total population descending, limit to 50 results", "question_tone": "ANALYTICAL", "priority": 3, "sql_postgis": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500LIMIT 50;", "sql_spatialite": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500\nORDER BY c.p1 DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "primary_schema": "c", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze population distribution by gender in census areas with minimum population of 500, showing total population descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A4_census_population_var_162", "complexity_level": "A", "tags": ["basic", "demographics", "census"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "019d513c-9bea-4f34-89ac-91edd496f40c", "census_id": "00a42bee-c946-48fc-9603-fdf82979a7af", "voltage_kv": 0.4, "bus_id": "7", "census_zone": "12720002064", "srid": 3857, "overlap_threshold": 10, "buffer_distance": 100, "max_distance": 500, "cluster_distance": 1000, "min_area": 236, "max_area": 1610, "min_height": 8, "max_height": 42, "min_people": 4, "max_people": 7, "year": 2000, "min_population": 100, "min_buildings": 5, "min_areas": 5, "cluster_count": 5, "min_cluster_size": 10, "min_points": 8, "lon": 14.651154, "lat": 37.167738, "limit": 100}, "generated_at": "2025-11-24T10:45:34.770305", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000763", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze population distribution by gender in census areas with minimum population of 500, showing total population descending, limit to 50 results", "question_tone": "ANALYTICAL", "priority": 3, "sql_postgis": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500LIMIT 50;", "sql_spatialite": "SELECT c.sez2011, c.p1 as total_population,\n       c.p2 as male_population,\n       c.p3 as female_population\nFROM cim_census.censusgeo c\nWHERE c.p1 >= 500\nORDER BY c.p1 DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "primary_schema": "c", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census"], "tables": ["c.p1", "c.p3", "c.p2", "cim_census.censusgeo", "c.sez2011"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze population distribution by gender in census areas with minimum population of 500, showing total population descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A4_census_population_var_164", "complexity_level": "A", "tags": ["basic", "demographics", "census"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "014844ab-0449-47ef-bd20-797f10d7f4d6", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 20.0, "bus_id": "12", "census_zone": "12720002064", "srid": 32633, "overlap_threshold": 70, "buffer_distance": 500, "max_distance": 2000, "cluster_distance": 5000, "min_area": 314, "max_area": 3534, "min_height": 6, "max_height": 67, "min_people": 3, "max_people": 15, "year": 1979, "min_population": 1000, "min_buildings": 5, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 10, "min_points": 5, "lon": 16.779723, "lat": 46.62958, "limit": 10}, "generated_at": "2025-11-24T10:45:34.770430", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000806", "database_id": 1, "database_name": "cim_wizard", "question": "Retrieve building heights of at least 6 meters from properties for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing height descending, limit to 10 results", "question_tone": "INTERROGATIVE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.height >= 6LIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.height >= 6\nORDER BY bp.height DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Retrieve building heights of at least 6 meters from properties for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing height descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A5_building_height_var_7", "complexity_level": "A", "tags": ["basic", "building", "height", "properties"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "01a94fd3-07e3-4ada-8014-9d7bd68a4a97", "census_id": "02b81f56-6754-4a53-9fea-e93380f1242f", "voltage_kv": 132.0, "bus_id": "0", "census_zone": "12720001763", "srid": 32633, "overlap_threshold": 80, "buffer_distance": 500, "max_distance": 1000, "cluster_distance": 1000, "min_area": 313, "max_area": 4798, "min_height": 5, "max_height": 52, "min_people": 5, "max_people": 9, "year": 1961, "min_population": 1000, "min_buildings": 20, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 10, "min_points": 3, "lon": 9.385283, "lat": 36.786225, "limit": 100}, "generated_at": "2025-11-24T10:45:34.772791", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000855", "database_id": 1, "database_name": "cim_wizard", "question": "Retrieve building heights of at least 4 meters from properties for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing height descending, limit to 50 results", "question_tone": "INTERROGATIVE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.height >= 4LIMIT 50;", "sql_spatialite": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.height >= 4\nORDER BY bp.height DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Retrieve building heights of at least 4 meters from properties for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing height descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A5_building_height_var_56", "complexity_level": "A", "tags": ["basic", "building", "height", "properties"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "02f3c101-222f-4f48-8a0a-6aee8b7c50e8", "census_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "voltage_kv": 400.0, "bus_id": "13", "census_zone": "10240000037", "srid": 4326, "overlap_threshold": 20, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 2000, "min_area": 430, "max_area": 2801, "min_height": 9, "max_height": 87, "min_people": 4, "max_people": 11, "year": 2005, "min_population": 500, "min_buildings": 5, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 3, "min_points": 8, "lon": 14.993328, "lat": 46.421104, "limit": 25}, "generated_at": "2025-11-24T10:45:34.775936", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000933", "database_id": 1, "database_name": "cim_wizard", "question": "Retrieve building heights of at least 9 meters from properties for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing height descending, limit to 25 results", "question_tone": "INTERROGATIVE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' \n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.height >= 9LIMIT 25;", "sql_spatialite": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' \n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.height >= 9\nORDER BY bp.height DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Retrieve building heights of at least 9 meters from properties for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing height descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A5_building_height_var_134", "complexity_level": "A", "tags": ["basic", "building", "height", "properties"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "024447c1-1d36-4322-8be3-bc338c082a07", "census_id": "0169cc81-9df2-4f16-9390-949e940c5b4c", "voltage_kv": 20.0, "bus_id": "4", "census_zone": "12720001946", "srid": 32633, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 2000, "min_area": 142, "max_area": 3646, "min_height": 9, "max_height": 61, "min_people": 1, "max_people": 12, "year": 2003, "min_population": 1000, "min_buildings": 20, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 3, "min_points": 3, "lon": 13.286724, "lat": 37.046346, "limit": 100}, "generated_at": "2025-11-24T10:45:34.780732", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_000993", "database_id": 1, "database_name": "cim_wizard", "question": "Retrieve building heights of at least 6 meters from properties for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing height descending, limit to 10 results", "question_tone": "INTERROGATIVE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.height >= 6LIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.height, bp.type, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.height >= 6\nORDER BY bp.height DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Retrieve building heights of at least 6 meters from properties for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing height descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A5_building_height_var_194", "complexity_level": "A", "tags": ["basic", "building", "height", "properties"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "010454b9-5b54-4208-90ce-41c2b181c852", "census_id": "007a2247-cdcd-49d0-8d30-6d249f9a3124", "voltage_kv": 20.0, "bus_id": "0", "census_zone": "12720002002", "srid": 32633, "overlap_threshold": 10, "buffer_distance": 2000, "max_distance": 500, "cluster_distance": 2000, "min_area": 238, "max_area": 3258, "min_height": 7, "max_height": 71, "min_people": 2, "max_people": 17, "year": 1957, "min_population": 100, "min_buildings": 5, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 10, "min_points": 5, "lon": 9.493848, "lat": 39.476111, "limit": 25}, "generated_at": "2025-11-24T10:45:34.784470", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001073", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate distance from buildings in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a to the point at longitude 12.649193 latitude 39.088424 in SRID 4326, ordered by distance ascending, limit to 10 results", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT b.building_id, \n       public.ST_Distance(b.building_geometry, public.ST_SetSRID(public.ST_MakePoint(12.649193, 39.088424), 4326)) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nORDER BY distance_m ASC;", "sql_spatialite": "SELECT b.building_id, \n       public.ST_Distance(b.building_geometry, public.ST_SetSRID(public.ST_MakePoint(12.649193, 39.088424), 4326)) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nORDER BY distance_m ASC\nLIMIT 10;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "39", "public", "bp", "12"], "tables": ["39.088424", "cim_vector.cim_wizard_building", "12.649193", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_MakePoint", "public.ST_Distance", "bp.project_id", "public.ST_SetSRID", "b.building_id", "bp.lod"], "primary_schema": "b", "table_count": 14, "schema_count": 6}, "spatial_functions": ["ST_DISTANCE", "ST_SETSRID", "ST_MAKEPOINT"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_SETSRID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_MAKEPOINT", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "39", "public", "bp", "12"], "tables": ["39.088424", "cim_vector.cim_wizard_building", "12.649193", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_MakePoint", "public.ST_Distance", "bp.project_id", "public.ST_SetSRID", "b.building_id", "bp.lod"], "columns": [], "functions": ["ST_SetSRID", "ST_MakePoint", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate distance from buildings in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a to the point at longitude 12.649193 latitude 39.088424 in SRID 4326, ordered by distance ascending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A6_building_distance_var_74", "complexity_level": "A", "tags": ["basic", "building", "distance", "measurement"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "00b01e23-3003-4864-a2f4-28e2efaf6d4b", "census_id": "014844ab-0449-47ef-bd20-797f10d7f4d6", "voltage_kv": 0.4, "bus_id": "10", "census_zone": "10900000379", "srid": 32632, "overlap_threshold": 40, "buffer_distance": 1000, "max_distance": 5000, "cluster_distance": 2000, "min_area": 320, "max_area": 2214, "min_height": 9, "max_height": 24, "min_people": 2, "max_people": 12, "year": 1970, "min_population": 100, "min_buildings": 20, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 3, "min_points": 8, "lon": 12.784372, "lat": 46.478252, "limit": 10}, "generated_at": "2025-11-24T10:45:34.792231", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001146", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate distance from buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 to the point at longitude 11.201855 latitude 39.629556 in SRID 4326, showing distance ascending, limit to 100 results", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT b.building_id, \n       public.ST_Distance(b.building_geometry, public.ST_SetSRID(public.ST_MakePoint(11.201855, 39.629556), 4326)) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'LIMIT 100;", "sql_spatialite": "SELECT b.building_id, \n       public.ST_Distance(b.building_geometry, public.ST_SetSRID(public.ST_MakePoint(11.201855, 39.629556), 4326)) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nORDER BY distance_m ASC\nLIMIT 100;", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "39", "public", "bp", "11"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "11.201855", "cim_vector.cim_wizard_building_properties", "bp.building_id", "public.ST_MakePoint", "b.lod", "39.629556", "public.ST_Distance", "bp.project_id", "public.ST_SetSRID", "b.building_id", "bp.lod"], "primary_schema": "b", "table_count": 14, "schema_count": 6}, "spatial_functions": ["ST_DISTANCE", "ST_SETSRID", "ST_MAKEPOINT"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_SETSRID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_MAKEPOINT", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "39", "public", "bp", "11"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "11.201855", "cim_vector.cim_wizard_building_properties", "bp.building_id", "public.ST_MakePoint", "b.lod", "39.629556", "public.ST_Distance", "bp.project_id", "public.ST_SetSRID", "b.building_id", "bp.lod"], "columns": [], "functions": ["ST_SetSRID", "ST_MakePoint", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate distance from buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 to the point at longitude 11.201855 latitude 39.629556 in SRID 4326, showing distance ascending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A6_building_distance_var_147", "complexity_level": "A", "tags": ["basic", "building", "distance", "measurement"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "census_id": "013d45a8-3563-42a0-a01c-335ea67d1070", "voltage_kv": 400.0, "bus_id": "9", "census_zone": "10180000018", "srid": 32632, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 331, "max_area": 2533, "min_height": 3, "max_height": 92, "min_people": 2, "max_people": 7, "year": 1987, "min_population": 500, "min_buildings": 5, "min_areas": 3, "cluster_count": 3, "min_cluster_size": 10, "min_points": 5, "lon": 16.477086, "lat": 44.831955, "limit": 100}, "generated_at": "2025-11-24T10:45:34.797692", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001222", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings that intersect with the boundary of project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 25 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT b.building_id, b.lod, bp.type, bp.height, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_vector.cim_wizard_project_scenario ps ON bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id\nWHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND public.ST_Intersects(b.building_geometry, ps.project_boundary);", "sql_spatialite": "SELECT b.building_id, b.lod, bp.type, bp.height, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_vector.cim_wizard_project_scenario ps ON bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id\nWHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND public.ST_Intersects(b.building_geometry, ps.project_boundary)\nLIMIT 25;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "public", "ps", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "bp.type", "ps.project_boundary", "bp.height", "bp.project_id", "bp.lod", "ps.scenario_id", "b.building_id", "public.ST_Area", "ps.project_id"], "primary_schema": "b", "table_count": 17, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_AREA"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "public", "ps", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "bp.type", "ps.project_boundary", "bp.height", "bp.project_id", "bp.lod", "ps.scenario_id", "b.building_id", "public.ST_Area", "ps.project_id"], "columns": [], "functions": ["ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings that intersect with the boundary of project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A7_buildings_in_project_var_23", "complexity_level": "A", "tags": ["project", "building", "basic", "spatial_predicate"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "021d6573-e91d-409f-89f6-72a608238220", "census_id": "03158862-3db7-4c34-a566-92e512c4b29b", "voltage_kv": 20.0, "bus_id": "10", "census_zone": "12720002064", "srid": 32632, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 5000, "min_area": 417, "max_area": 4759, "min_height": 7, "max_height": 15, "min_people": 5, "max_people": 20, "year": 2006, "min_population": 500, "min_buildings": 20, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 5, "min_points": 5, "lon": 12.115034, "lat": 43.992345, "limit": 25}, "generated_at": "2025-11-24T10:45:34.803411", "has_limit": false, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_001339", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings that intersect with the boundary of project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 50 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT b.building_id, b.lod, bp.type, bp.height, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_vector.cim_wizard_project_scenario ps ON bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id\nWHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND public.ST_Intersects(b.building_geometry, ps.project_boundary);", "sql_spatialite": "SELECT b.building_id, b.lod, bp.type, bp.height, public.ST_Area(b.building_geometry) as area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_vector.cim_wizard_project_scenario ps ON bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id\nWHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND public.ST_Intersects(b.building_geometry, ps.project_boundary)\nLIMIT 50;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "public", "ps", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "bp.type", "ps.project_boundary", "bp.height", "bp.project_id", "bp.lod", "ps.scenario_id", "b.building_id", "public.ST_Area", "ps.project_id"], "primary_schema": "b", "table_count": 17, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_AREA"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "public", "ps", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "bp.type", "ps.project_boundary", "bp.height", "bp.project_id", "bp.lod", "ps.scenario_id", "b.building_id", "public.ST_Area", "ps.project_id"], "columns": [], "functions": ["ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings that intersect with the boundary of project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A7_buildings_in_project_var_140", "complexity_level": "A", "tags": ["project", "building", "basic", "spatial_predicate"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "019ee682-7c8e-4e1d-9bcd-877b6f2d1bb7", "census_id": "0216d44d-d352-4f12-bd16-79ba0f2dc167", "voltage_kv": 20.0, "bus_id": "13", "census_zone": "10900000379", "srid": 32633, "overlap_threshold": 50, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 5000, "min_area": 482, "max_area": 1644, "min_height": 5, "max_height": 93, "min_people": 4, "max_people": 12, "year": 2021, "min_population": 100, "min_buildings": 5, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 3, "min_points": 5, "lon": 14.01203, "lat": 36.231072, "limit": 100}, "generated_at": "2025-11-24T10:45:34.812149", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001425", "database_id": 1, "database_name": "cim_wizard", "question": "Count buildings by type in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, ordered by count descending", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_spatialite": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "primary_schema": "cim_vector", "table_count": 4, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Count buildings by type in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, ordered by count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A10_count_buildings_by_type_var_26", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "type"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "010454b9-5b54-4208-90ce-41c2b181c852", "census_id": "007a2247-cdcd-49d0-8d30-6d249f9a3124", "voltage_kv": 400.0, "bus_id": "2", "census_zone": "12720001946", "srid": 32633, "overlap_threshold": 60, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 1000, "min_area": 200, "max_area": 4168, "min_height": 10, "max_height": 46, "min_people": 1, "max_people": 13, "year": 1993, "min_population": 100, "min_buildings": 10, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 3, "min_points": 8, "lon": 10.939913, "lat": 44.67469, "limit": 25}, "generated_at": "2025-11-24T10:45:34.817984", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001504", "database_id": 1, "database_name": "cim_wizard", "question": "Count buildings by type in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing count descending", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_spatialite": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "primary_schema": "cim_vector", "table_count": 4, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Count buildings by type in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A10_count_buildings_by_type_var_105", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "type"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "0033de25-d7d1-48d5-98c3-bc02973a13c0", "census_id": "01764da2-a801-4dec-83bf-3a535fd083ab", "voltage_kv": 132.0, "bus_id": "13", "census_zone": "11710000046", "srid": 4326, "overlap_threshold": 10, "buffer_distance": 500, "max_distance": 1000, "cluster_distance": 2000, "min_area": 322, "max_area": 1987, "min_height": 4, "max_height": 71, "min_people": 5, "max_people": 7, "year": 2007, "min_population": 500, "min_buildings": 5, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 3, "min_points": 8, "lon": 14.403436, "lat": 37.877186, "limit": 10}, "generated_at": "2025-11-24T10:45:34.822256", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001514", "database_id": 1, "database_name": "cim_wizard", "question": "Count buildings by type in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing count descending", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_spatialite": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "primary_schema": "cim_vector", "table_count": 4, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Count buildings by type in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A10_count_buildings_by_type_var_115", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "type"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "0346fe08-1688-474e-81bf-ad26c1b79c42", "census_id": "036d2174-245d-4021-90e7-58d95ee6c577", "voltage_kv": 132.0, "bus_id": "8", "census_zone": "12720001946", "srid": 32632, "overlap_threshold": 50, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 1000, "min_area": 168, "max_area": 4362, "min_height": 8, "max_height": 25, "min_people": 2, "max_people": 8, "year": 1992, "min_population": 500, "min_buildings": 20, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 11.710307, "lat": 44.305124, "limit": 50}, "generated_at": "2025-11-24T10:45:34.822891", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001542", "database_id": 1, "database_name": "cim_wizard", "question": "Count buildings by type in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing count descending", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_spatialite": "SELECT bp.type, COUNT(*) as building_count\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "primary_schema": "cim_vector", "table_count": 4, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["cim_vector.cim_wizard_building_properties", "bp.scenario_id", "bp.project_id", "bp.type"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Count buildings by type in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A10_count_buildings_by_type_var_143", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "type"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "007a2247-cdcd-49d0-8d30-6d249f9a3124", "census_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "voltage_kv": 132.0, "bus_id": "1", "census_zone": "12720002002", "srid": 32632, "overlap_threshold": 50, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 1000, "min_area": 388, "max_area": 4486, "min_height": 8, "max_height": 89, "min_people": 3, "max_people": 18, "year": 1982, "min_population": 500, "min_buildings": 10, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 3, "min_points": 3, "lon": 7.65527, "lat": 45.962306, "limit": 25}, "generated_at": "2025-11-24T10:45:34.824563", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001629", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with area between 442 and 3787 square meters in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing area descending, limit to 100 results", "question_tone": "TEMPORAL", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.area BETWEEN 442 AND 3787LIMIT 100;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.area BETWEEN 442 AND 3787\nORDER BY bp.area DESC\nLIMIT 100;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with area between 442 and 3787 square meters in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing area descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A11_buildings_by_area_range_var_30", "complexity_level": "A", "tags": ["area_filter", "building", "basic", "range"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "02f3c101-222f-4f48-8a0a-6aee8b7c50e8", "census_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "voltage_kv": 400.0, "bus_id": "14", "census_zone": "12720001637", "srid": 32633, "overlap_threshold": 40, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 5000, "min_area": 471, "max_area": 2489, "min_height": 8, "max_height": 37, "min_people": 5, "max_people": 16, "year": 2017, "min_population": 100, "min_buildings": 5, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 3, "min_points": 5, "lon": 9.97438, "lat": 38.373849, "limit": 25}, "generated_at": "2025-11-24T10:45:34.829567", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001666", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with area between 459 and 1824 square meters in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing area descending, limit to 25 results", "question_tone": "TEMPORAL", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.area BETWEEN 459 AND 1824LIMIT 25;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.area BETWEEN 459 AND 1824\nORDER BY bp.area DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with area between 459 and 1824 square meters in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing area descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A11_buildings_by_area_range_var_67", "complexity_level": "A", "tags": ["area_filter", "building", "basic", "range"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "00b01e23-3003-4864-a2f4-28e2efaf6d4b", "census_id": "019ee682-7c8e-4e1d-9bcd-877b6f2d1bb7", "voltage_kv": 132.0, "bus_id": "13", "census_zone": "12720001884", "srid": 32632, "overlap_threshold": 60, "buffer_distance": 500, "max_distance": 5000, "cluster_distance": 2000, "min_area": 340, "max_area": 2126, "min_height": 8, "max_height": 43, "min_people": 2, "max_people": 6, "year": 2011, "min_population": 500, "min_buildings": 5, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 5, "min_points": 8, "lon": 11.76793, "lat": 39.386059, "limit": 50}, "generated_at": "2025-11-24T10:45:34.831496", "has_limit": true, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_001676", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with area between 220 and 2380 square meters in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing area descending, limit to 10 results", "question_tone": "TEMPORAL", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.area BETWEEN 220 AND 2380LIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.area BETWEEN 220 AND 2380\nORDER BY bp.area DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with area between 220 and 2380 square meters in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing area descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A11_buildings_by_area_range_var_77", "complexity_level": "A", "tags": ["area_filter", "building", "basic", "range"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "013d45a8-3563-42a0-a01c-335ea67d1070", "census_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "voltage_kv": 132.0, "bus_id": "8", "census_zone": "10180000029", "srid": 3857, "overlap_threshold": 30, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 2000, "min_area": 149, "max_area": 4161, "min_height": 10, "max_height": 50, "min_people": 4, "max_people": 6, "year": 1965, "min_population": 1000, "min_buildings": 10, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 10, "min_points": 5, "lon": 7.951721, "lat": 42.176598, "limit": 10}, "generated_at": "2025-11-24T10:45:34.832055", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001769", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with area between 137 and 3511 square meters in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing area descending, limit to 25 results", "question_tone": "TEMPORAL", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.area BETWEEN 137 AND 3511LIMIT 25;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.area BETWEEN 137 AND 3511\nORDER BY bp.area DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with area between 137 and 3511 square meters in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing area descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A11_buildings_by_area_range_var_170", "complexity_level": "A", "tags": ["area_filter", "building", "basic", "range"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "0331072a-ce76-4992-a80a-fbfe2bd45ce6", "census_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "voltage_kv": 132.0, "bus_id": "3", "census_zone": "11710000046", "srid": 4326, "overlap_threshold": 80, "buffer_distance": 500, "max_distance": 2000, "cluster_distance": 1000, "min_area": 234, "max_area": 4969, "min_height": 7, "max_height": 95, "min_people": 5, "max_people": 14, "year": 2001, "min_population": 100, "min_buildings": 20, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 5, "min_points": 3, "lon": 7.634729, "lat": 46.145537, "limit": 50}, "generated_at": "2025-11-24T10:45:34.837994", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001792", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with area between 334 and 4344 square meters in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing area descending, limit to 50 results", "question_tone": "TEMPORAL", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.area BETWEEN 334 AND 4344LIMIT 50;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.area, bp.height\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.area BETWEEN 334 AND 4344\nORDER BY bp.area DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with area between 334 and 4344 square meters in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing area descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A11_buildings_by_area_range_var_193", "complexity_level": "A", "tags": ["area_filter", "building", "basic", "range"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "census_id": "036d2174-245d-4021-90e7-58d95ee6c577", "voltage_kv": 0.4, "bus_id": "8", "census_zone": "12720001821", "srid": 3857, "overlap_threshold": 10, "buffer_distance": 100, "max_distance": 500, "cluster_distance": 2000, "min_area": 107, "max_area": 4911, "min_height": 3, "max_height": 78, "min_people": 5, "max_people": 15, "year": 1958, "min_population": 1000, "min_buildings": 20, "min_areas": 3, "cluster_count": 10, "min_cluster_size": 5, "min_points": 3, "lon": 10.913258, "lat": 39.656742, "limit": 10}, "generated_at": "2025-11-24T10:45:34.839209", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001800", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_1", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "019ee682-7c8e-4e1d-9bcd-877b6f2d1bb7", "census_id": "01808035-47bd-4a6f-81ba-07ef5e44f93d", "voltage_kv": 0.4, "bus_id": "9", "census_zone": "10180000029", "srid": 3857, "overlap_threshold": 40, "buffer_distance": 100, "max_distance": 500, "cluster_distance": 2000, "min_area": 349, "max_area": 3513, "min_height": 4, "max_height": 52, "min_people": 2, "max_people": 8, "year": 2009, "min_population": 1000, "min_buildings": 10, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 3, "min_points": 8, "lon": 17.858303, "lat": 42.601317, "limit": 50}, "generated_at": "2025-11-24T10:45:34.839640", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001927", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_128", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "010454b9-5b54-4208-90ce-41c2b181c852", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 20.0, "bus_id": "3", "census_zone": "12720002064", "srid": 3857, "overlap_threshold": 10, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 1000, "min_area": 368, "max_area": 3906, "min_height": 10, "max_height": 60, "min_people": 1, "max_people": 14, "year": 1962, "min_population": 100, "min_buildings": 10, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 10, "min_points": 5, "lon": 9.546571, "lat": 45.099123, "limit": 50}, "generated_at": "2025-11-24T10:45:34.865645", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001940", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_141", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "00887359-a93c-4b0c-8cb8-1535ae3ad1f7", "census_id": "026e8641-2eec-4b1f-bcc8-145c6ce5cc38", "voltage_kv": 20.0, "bus_id": "8", "census_zone": "10240000037", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 5000, "min_area": 263, "max_area": 3527, "min_height": 10, "max_height": 77, "min_people": 3, "max_people": 10, "year": 1992, "min_population": 100, "min_buildings": 20, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 3, "min_points": 5, "lon": 8.508152, "lat": 40.463622, "limit": 25}, "generated_at": "2025-11-24T10:45:34.866391", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001947", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_148", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "01a0c47e-abb0-4327-9f30-f5f845b5defa", "census_id": "01764da2-a801-4dec-83bf-3a535fd083ab", "voltage_kv": 400.0, "bus_id": "2", "census_zone": "10900000379", "srid": 3857, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 1000, "cluster_distance": 5000, "min_area": 227, "max_area": 3934, "min_height": 6, "max_height": 39, "min_people": 4, "max_people": 10, "year": 1983, "min_population": 100, "min_buildings": 5, "min_areas": 3, "cluster_count": 3, "min_cluster_size": 10, "min_points": 8, "lon": 7.863329, "lat": 36.696289, "limit": 50}, "generated_at": "2025-11-24T10:45:34.866786", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001958", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_159", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "00e03e68-75cd-4e76-990e-a5295c721e2e", "census_id": "0033de25-d7d1-48d5-98c3-bc02973a13c0", "voltage_kv": 132.0, "bus_id": "14", "census_zone": "11710000046", "srid": 32632, "overlap_threshold": 50, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 416, "max_area": 3020, "min_height": 4, "max_height": 20, "min_people": 5, "max_people": 8, "year": 1987, "min_population": 500, "min_buildings": 10, "min_areas": 3, "cluster_count": 10, "min_cluster_size": 3, "min_points": 3, "lon": 17.603666, "lat": 42.818568, "limit": 50}, "generated_at": "2025-11-24T10:45:34.867390", "has_limit": false, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_001975", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_176", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "00fe1681-93ca-4309-a17b-287b3f2ca616", "census_id": "0216d44d-d352-4f12-bd16-79ba0f2dc167", "voltage_kv": 132.0, "bus_id": "15", "census_zone": "12720002064", "srid": 4326, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 1000, "min_area": 174, "max_area": 2107, "min_height": 6, "max_height": 96, "min_people": 2, "max_people": 7, "year": 1984, "min_population": 500, "min_buildings": 5, "min_areas": 3, "cluster_count": 3, "min_cluster_size": 5, "min_points": 5, "lon": 13.87374, "lat": 42.23822, "limit": 10}, "generated_at": "2025-11-24T10:45:34.868337", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_001978", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_spatialite": "SELECT AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       AVG(bp.volume) as avg_volume,\n       AVG(bp.number_of_floors) as avg_floors,\n       COUNT(*) as total_buildings\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 7, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.volume", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average building metrics (height, area, volume, floors) for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A12_average_building_metrics_var_179", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "statistics"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "03158862-3db7-4c34-a566-92e512c4b29b", "census_id": "00a42bee-c946-48fc-9603-fdf82979a7af", "voltage_kv": 400.0, "bus_id": "13", "census_zone": "12720001884", "srid": 32633, "overlap_threshold": 20, "buffer_distance": 500, "max_distance": 5000, "cluster_distance": 1000, "min_area": 405, "max_area": 3455, "min_height": 7, "max_height": 83, "min_people": 3, "max_people": 7, "year": 1952, "min_population": 1000, "min_buildings": 20, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 3, "min_points": 8, "lon": 16.895235, "lat": 43.254705, "limit": 100}, "generated_at": "2025-11-24T10:45:34.868500", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002109", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings constructed since year 2021 in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing construction year descending, limit to 10 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.const_year, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.const_year >= 2021LIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.const_year, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.const_year >= 2021\nORDER BY bp.const_year DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.const_year", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": ["ST_YEAR"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_YEAR", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.const_year", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings constructed since year 2021 in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing construction year descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A13_buildings_by_year_var_110", "complexity_level": "A", "tags": ["basic", "building", "temporal", "year_filter"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "022f4517-5ac0-4ec3-9169-6f34b445869a", "census_id": "013d45a8-3563-42a0-a01c-335ea67d1070", "voltage_kv": 400.0, "bus_id": "13", "census_zone": "12720000215", "srid": 3857, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 5000, "min_area": 113, "max_area": 1010, "min_height": 8, "max_height": 59, "min_people": 1, "max_people": 8, "year": 1995, "min_population": 100, "min_buildings": 10, "min_areas": 10, "cluster_count": 10, "min_cluster_size": 10, "min_points": 8, "lon": 8.330269, "lat": 42.997326, "limit": 25}, "generated_at": "2025-11-24T10:45:34.877751", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002173", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings constructed since year 2011 in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, ordered by construction year descending, limit to 10 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.const_year, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.const_year >= 2011\nORDER BY bp.const_year DESC\nLIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.const_year, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.const_year >= 2011\nORDER BY bp.const_year DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.const_year", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": ["ST_YEAR"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_YEAR", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.const_year", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings constructed since year 2011 in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, ordered by construction year descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A13_buildings_by_year_var_174", "complexity_level": "A", "tags": ["basic", "building", "temporal", "year_filter"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "census_id": "01a0c47e-abb0-4327-9f30-f5f845b5defa", "voltage_kv": 400.0, "bus_id": "9", "census_zone": "12720001821", "srid": 32632, "overlap_threshold": 50, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 5000, "min_area": 186, "max_area": 4071, "min_height": 4, "max_height": 27, "min_people": 5, "max_people": 18, "year": 1975, "min_population": 1000, "min_buildings": 5, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 3, "min_points": 3, "lon": 9.077836, "lat": 38.493909, "limit": 50}, "generated_at": "2025-11-24T10:45:34.881967", "has_limit": true, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002328", "database_id": 1, "database_name": "cim_wizard", "question": "Find tall buildings (height >= 5 meters) in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing height descending, limit to 25 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.height, bp.number_of_floors, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.height >= 5LIMIT 25;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.height, bp.number_of_floors, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.height >= 5\nORDER BY bp.height DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find tall buildings (height >= 5 meters) in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing height descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A14_tall_buildings_var_129", "complexity_level": "A", "tags": ["height_filter", "building", "basic"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "census_id": "012d11ed-97f7-46a8-ad80-ed38320b3fa8", "voltage_kv": 0.4, "bus_id": "15", "census_zone": "12720001946", "srid": 3857, "overlap_threshold": 80, "buffer_distance": 2000, "max_distance": 500, "cluster_distance": 5000, "min_area": 247, "max_area": 1549, "min_height": 4, "max_height": 92, "min_people": 5, "max_people": 12, "year": 2011, "min_population": 1000, "min_buildings": 10, "min_areas": 3, "cluster_count": 10, "min_cluster_size": 5, "min_points": 3, "lon": 14.75573, "lat": 38.083855, "limit": 25}, "generated_at": "2025-11-24T10:45:34.891719", "has_limit": true, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_002340", "database_id": 1, "database_name": "cim_wizard", "question": "Find tall buildings (height >= 6 meters) in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing height descending, limit to 50 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.height, bp.number_of_floors, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.height >= 6LIMIT 50;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.height, bp.number_of_floors, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.height >= 6\nORDER BY bp.height DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find tall buildings (height >= 6 meters) in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing height descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A14_tall_buildings_var_141", "complexity_level": "A", "tags": ["height_filter", "building", "basic"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "0346fe08-1688-474e-81bf-ad26c1b79c42", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 20.0, "bus_id": "2", "census_zone": "10900000379", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 100, "max_distance": 500, "cluster_distance": 2000, "min_area": 173, "max_area": 2205, "min_height": 7, "max_height": 54, "min_people": 1, "max_people": 10, "year": 1995, "min_population": 100, "min_buildings": 20, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 11.913617, "lat": 37.595266, "limit": 50}, "generated_at": "2025-11-24T10:45:34.892436", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002498", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with at least 1 floors in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing floor count descending, limit to 50 results", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.number_of_floors, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.number_of_floors >= 1LIMIT 50;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.number_of_floors, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.number_of_floors >= 1\nORDER BY bp.number_of_floors DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with at least 1 floors in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing floor count descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A15_buildings_by_floors_var_99", "complexity_level": "A", "tags": ["basic", "building", "floors_filter"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "0346fe08-1688-474e-81bf-ad26c1b79c42", "census_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "voltage_kv": 0.4, "bus_id": "1", "census_zone": "12720000215", "srid": 32632, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 5000, "min_area": 81, "max_area": 4769, "min_height": 3, "max_height": 87, "min_people": 4, "max_people": 14, "year": 1953, "min_population": 100, "min_buildings": 20, "min_areas": 3, "cluster_count": 10, "min_cluster_size": 10, "min_points": 5, "lon": 17.61738, "lat": 40.268266, "limit": 100}, "generated_at": "2025-11-24T10:45:34.901626", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002530", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with at least 2 floors in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing floor count descending, limit to 25 results", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.number_of_floors, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.number_of_floors >= 2LIMIT 25;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.number_of_floors, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.number_of_floors >= 2\nORDER BY bp.number_of_floors DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with at least 2 floors in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing floor count descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A15_buildings_by_floors_var_131", "complexity_level": "A", "tags": ["basic", "building", "floors_filter"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "00a42bee-c946-48fc-9603-fdf82979a7af", "census_id": "0040217f-9865-4cab-9478-731e0c443a85", "voltage_kv": 0.4, "bus_id": "0", "census_zone": "12720001946", "srid": 32632, "overlap_threshold": 70, "buffer_distance": 500, "max_distance": 2000, "cluster_distance": 5000, "min_area": 182, "max_area": 4493, "min_height": 4, "max_height": 23, "min_people": 1, "max_people": 13, "year": 1978, "min_population": 500, "min_buildings": 5, "min_areas": 5, "cluster_count": 5, "min_cluster_size": 5, "min_points": 8, "lon": 8.711293, "lat": 42.434813, "limit": 50}, "generated_at": "2025-11-24T10:45:34.903801", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002582", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with at least 3 floors in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing floor count descending, limit to 50 results", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.number_of_floors, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.number_of_floors >= 3LIMIT 50;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.number_of_floors, bp.height, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.number_of_floors >= 3\nORDER BY bp.number_of_floors DESC\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.height", "bp.project_id", "bp.number_of_floors"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with at least 3 floors in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing floor count descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A15_buildings_by_floors_var_183", "complexity_level": "A", "tags": ["basic", "building", "floors_filter"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "01764da2-a801-4dec-83bf-3a535fd083ab", "census_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "voltage_kv": 20.0, "bus_id": "2", "census_zone": "12720001821", "srid": 4326, "overlap_threshold": 20, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 2000, "min_area": 194, "max_area": 1760, "min_height": 3, "max_height": 83, "min_people": 1, "max_people": 11, "year": 1971, "min_population": 100, "min_buildings": 10, "min_areas": 3, "cluster_count": 10, "min_cluster_size": 5, "min_points": 3, "lon": 12.497059, "lat": 37.505206, "limit": 25}, "generated_at": "2025-11-24T10:45:34.908179", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002628", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate total and average building area by type for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, ordered by total area descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT bp.type, \n       COUNT(*) as building_count,\n       SUM(bp.area) as total_area,\n       AVG(bp.area) as avg_area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\nGROUP BY bp.type\nORDER BY total_area DESC;", "sql_spatialite": "SELECT bp.type, \n       COUNT(*) as building_count,\n       SUM(bp.area) as total_area,\n       AVG(bp.area) as avg_area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\nGROUP BY bp.type\nORDER BY total_area DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate total and average building area by type for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, ordered by total area descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A16_total_area_by_type_var_29", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "area"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "0098d25a-d0b1-4081-ba67-ae9112bbbf95", "census_id": "00887359-a93c-4b0c-8cb8-1535ae3ad1f7", "voltage_kv": 20.0, "bus_id": "10", "census_zone": "10240000037", "srid": 4326, "overlap_threshold": 20, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 2000, "min_area": 481, "max_area": 2223, "min_height": 5, "max_height": 64, "min_people": 5, "max_people": 17, "year": 1967, "min_population": 1000, "min_buildings": 10, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 3, "min_points": 3, "lon": 16.453613, "lat": 42.227068, "limit": 10}, "generated_at": "2025-11-24T10:45:34.910808", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002650", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate total and average building area by type for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing total area descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT bp.type, \n       COUNT(*) as building_count,\n       SUM(bp.area) as total_area,\n       AVG(bp.area) as avg_area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY total_area DESC;", "sql_spatialite": "SELECT bp.type, \n       COUNT(*) as building_count,\n       SUM(bp.area) as total_area,\n       AVG(bp.area) as avg_area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY total_area DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate total and average building area by type for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing total area descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A16_total_area_by_type_var_51", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "area"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 400.0, "bus_id": "10", "census_zone": "12720001707", "srid": 32632, "overlap_threshold": 20, "buffer_distance": 1000, "max_distance": 5000, "cluster_distance": 1000, "min_area": 311, "max_area": 2322, "min_height": 5, "max_height": 66, "min_people": 4, "max_people": 6, "year": 1959, "min_population": 500, "min_buildings": 20, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 10, "min_points": 8, "lon": 9.605665, "lat": 45.997929, "limit": 25}, "generated_at": "2025-11-24T10:45:34.912011", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002681", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate total and average building area by type for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing total area descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT bp.type, \n       COUNT(*) as building_count,\n       SUM(bp.area) as total_area,\n       AVG(bp.area) as avg_area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY bp.type\nORDER BY total_area DESC;", "sql_spatialite": "SELECT bp.type, \n       COUNT(*) as building_count,\n       SUM(bp.area) as total_area,\n       AVG(bp.area) as avg_area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY bp.type\nORDER BY total_area DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 5, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate total and average building area by type for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing total area descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A16_total_area_by_type_var_82", "complexity_level": "A", "tags": ["aggregation", "building", "basic", "area"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "0069f14b-4147-4254-a727-04198d14fab6", "census_id": "02491899-ba02-4ed3-afca-43985ff180d8", "voltage_kv": 0.4, "bus_id": "4", "census_zone": "12720001763", "srid": 3857, "overlap_threshold": 30, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 2000, "min_area": 83, "max_area": 2245, "min_height": 4, "max_height": 58, "min_people": 5, "max_people": 18, "year": 1967, "min_population": 100, "min_buildings": 20, "min_areas": 3, "cluster_count": 3, "min_cluster_size": 3, "min_points": 3, "lon": 12.578577, "lat": 41.859574, "limit": 100}, "generated_at": "2025-11-24T10:45:34.913719", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002866", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with population data in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing number of people descending, limit to 10 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.n_people > 0LIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.n_people > 0\nORDER BY bp.n_people DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with population data in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, showing number of people descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A17_buildings_with_population_var_67", "complexity_level": "A", "tags": ["basic", "filter", "population", "building"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "00b272c0-0e93-4d53-a969-d768c3280dce", "census_id": "00b21ae4-2343-42ee-8c53-e12e4a96e409", "voltage_kv": 132.0, "bus_id": "7", "census_zone": "12720000215", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 2000, "max_distance": 5000, "cluster_distance": 1000, "min_area": 132, "max_area": 4602, "min_height": 7, "max_height": 29, "min_people": 5, "max_people": 20, "year": 1982, "min_population": 100, "min_buildings": 20, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 5, "min_points": 8, "lon": 8.855136, "lat": 40.489999, "limit": 100}, "generated_at": "2025-11-24T10:45:34.924373", "has_limit": true, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_002887", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with population data in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing number of people descending, limit to 10 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.n_people > 0LIMIT 10;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.n_people > 0\nORDER BY bp.n_people DESC\nLIMIT 10;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with population data in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing number of people descending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A17_buildings_with_population_var_88", "complexity_level": "A", "tags": ["basic", "filter", "population", "building"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "0216d44d-d352-4f12-bd16-79ba0f2dc167", "census_id": "02cb3c45-a390-4cdb-ad56-b4d4bc31568c", "voltage_kv": 132.0, "bus_id": "14", "census_zone": "10180000029", "srid": 4326, "overlap_threshold": 80, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 5000, "min_area": 426, "max_area": 4783, "min_height": 4, "max_height": 92, "min_people": 1, "max_people": 17, "year": 1997, "min_population": 100, "min_buildings": 5, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 5, "min_points": 3, "lon": 9.180275, "lat": 40.830044, "limit": 50}, "generated_at": "2025-11-24T10:45:34.925673", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002901", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with population data in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing number of people descending, limit to 100 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.n_people > 0LIMIT 100;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.n_people > 0\nORDER BY bp.n_people DESC\nLIMIT 100;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with population data in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing number of people descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A17_buildings_with_population_var_102", "complexity_level": "A", "tags": ["basic", "filter", "population", "building"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "0346fe08-1688-474e-81bf-ad26c1b79c42", "census_id": "026e8641-2eec-4b1f-bcc8-145c6ce5cc38", "voltage_kv": 20.0, "bus_id": "11", "census_zone": "12720001821", "srid": 3857, "overlap_threshold": 60, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 5000, "min_area": 418, "max_area": 1031, "min_height": 10, "max_height": 47, "min_people": 3, "max_people": 20, "year": 1993, "min_population": 500, "min_buildings": 5, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 11.523715, "lat": 39.005844, "limit": 50}, "generated_at": "2025-11-24T10:45:34.926500", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_002954", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings with population data in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing number of people descending, limit to 25 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.n_people > 0LIMIT 25;", "sql_spatialite": "SELECT bp.building_id, bp.type, bp.n_people, bp.n_family, bp.area\nFROM cim_vector.cim_wizard_building_properties bp\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.n_people > 0\nORDER BY bp.n_people DESC\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "primary_schema": "cim_vector", "table_count": 8, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp"], "tables": ["bp.area", "bp.n_people", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "bp.n_family", "bp.type", "bp.project_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings with population data in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing number of people descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A17_buildings_with_population_var_155", "complexity_level": "A", "tags": ["basic", "filter", "population", "building"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "0040217f-9865-4cab-9478-731e0c443a85", "census_id": "0331072a-ce76-4992-a80a-fbfe2bd45ce6", "voltage_kv": 0.4, "bus_id": "6", "census_zone": "10240000037", "srid": 3857, "overlap_threshold": 30, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 5000, "min_area": 283, "max_area": 3230, "min_height": 10, "max_height": 76, "min_people": 3, "max_people": 20, "year": 1959, "min_population": 1000, "min_buildings": 10, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 5, "min_points": 3, "lon": 11.396289, "lat": 41.823123, "limit": 50}, "generated_at": "2025-11-24T10:45:34.929674", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003023", "database_id": 1, "database_name": "cim_wizard", "question": "Get project scenario summary with boundary area and building count for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT ps.project_id, ps.project_name, ps.scenario_name,\n       public.ST_Area(ps.project_boundary) as boundary_area_sqm,\n       (SELECT COUNT(*) FROM cim_vector.cim_wizard_building_properties bp \n        WHERE bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id) as building_count\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE ps.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND ps.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf';", "sql_spatialite": "SELECT ps.project_id, ps.project_name, ps.scenario_name,\n       public.ST_Area(ps.project_boundary) as boundary_area_sqm,\n       (SELECT COUNT(*) FROM cim_vector.cim_wizard_building_properties bp \n        WHERE bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id) as building_count\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE ps.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND ps.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf';", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": true, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "ps", "cim_vector", "bp"], "tables": ["ps.project_id", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "cim_vector.cim_wizard_project_scenario", "ps.scenario_name", "ps.project_boundary", "bp.project_id", "ps.scenario_id", "public.ST_Area", "ps.project_name"], "primary_schema": "public", "table_count": 10, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "ps", "cim_vector", "bp"], "tables": ["ps.project_id", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "cim_vector.cim_wizard_project_scenario", "ps.scenario_name", "ps.project_boundary", "bp.project_id", "ps.scenario_id", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Get project scenario summary with boundary area and building count for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A18_project_summary_var_24", "complexity_level": "A", "tags": ["project", "summary", "basic", "aggregation"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "0069f14b-4147-4254-a727-04198d14fab6", "census_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "voltage_kv": 132.0, "bus_id": "1", "census_zone": "12720001884", "srid": 3857, "overlap_threshold": 30, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 5000, "min_area": 210, "max_area": 1478, "min_height": 10, "max_height": 92, "min_people": 2, "max_people": 10, "year": 1955, "min_population": 500, "min_buildings": 10, "min_areas": 5, "cluster_count": 5, "min_cluster_size": 5, "min_points": 5, "lon": 10.98656, "lat": 41.842596, "limit": 25}, "generated_at": "2025-11-24T10:45:34.934315", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003050", "database_id": 1, "database_name": "cim_wizard", "question": "Get project scenario summary with boundary area and building count for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT ps.project_id, ps.project_name, ps.scenario_name,\n       public.ST_Area(ps.project_boundary) as boundary_area_sqm,\n       (SELECT COUNT(*) FROM cim_vector.cim_wizard_building_properties bp \n        WHERE bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id) as building_count\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE ps.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND ps.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a';", "sql_spatialite": "SELECT ps.project_id, ps.project_name, ps.scenario_name,\n       public.ST_Area(ps.project_boundary) as boundary_area_sqm,\n       (SELECT COUNT(*) FROM cim_vector.cim_wizard_building_properties bp \n        WHERE bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id) as building_count\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE ps.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND ps.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a';", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": true, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "ps", "cim_vector", "bp"], "tables": ["ps.project_id", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "cim_vector.cim_wizard_project_scenario", "ps.scenario_name", "ps.project_boundary", "bp.project_id", "ps.scenario_id", "public.ST_Area", "ps.project_name"], "primary_schema": "public", "table_count": 10, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "ps", "cim_vector", "bp"], "tables": ["ps.project_id", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "cim_vector.cim_wizard_project_scenario", "ps.scenario_name", "ps.project_boundary", "bp.project_id", "ps.scenario_id", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Get project scenario summary with boundary area and building count for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A18_project_summary_var_51", "complexity_level": "A", "tags": ["project", "summary", "basic", "aggregation"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "036a709d-07e7-412e-9c7a-5460f6820ed9", "census_id": "00e03e68-75cd-4e76-990e-a5295c721e2e", "voltage_kv": 132.0, "bus_id": "4", "census_zone": "12720001821", "srid": 3857, "overlap_threshold": 70, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 1000, "min_area": 97, "max_area": 4579, "min_height": 6, "max_height": 70, "min_people": 5, "max_people": 13, "year": 1977, "min_population": 1000, "min_buildings": 5, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 3, "min_points": 5, "lon": 8.688285, "lat": 36.146979, "limit": 50}, "generated_at": "2025-11-24T10:45:34.936125", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003146", "database_id": 1, "database_name": "cim_wizard", "question": "Get project scenario summary with boundary area and building count for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "SELECT ps.project_id, ps.project_name, ps.scenario_name,\n       public.ST_Area(ps.project_boundary) as boundary_area_sqm,\n       (SELECT COUNT(*) FROM cim_vector.cim_wizard_building_properties bp \n        WHERE bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id) as building_count\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE ps.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND ps.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1';", "sql_spatialite": "SELECT ps.project_id, ps.project_name, ps.scenario_name,\n       public.ST_Area(ps.project_boundary) as boundary_area_sqm,\n       (SELECT COUNT(*) FROM cim_vector.cim_wizard_building_properties bp \n        WHERE bp.project_id = ps.project_id AND bp.scenario_id = ps.scenario_id) as building_count\nFROM cim_vector.cim_wizard_project_scenario ps\nWHERE ps.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND ps.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1';", "sql_type": "SPATIAL_MEASUREMENT", "sql_taxonomy": {"operation_type": "SPATIAL_MEASUREMENT", "has_cte": false, "has_subquery": true, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "ps", "cim_vector", "bp"], "tables": ["ps.project_id", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "cim_vector.cim_wizard_project_scenario", "ps.scenario_name", "ps.project_boundary", "bp.project_id", "ps.scenario_id", "public.ST_Area", "ps.project_name"], "primary_schema": "public", "table_count": 10, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "ps", "cim_vector", "bp"], "tables": ["ps.project_id", "bp.scenario_id", "cim_vector.cim_wizard_building_properties", "cim_vector.cim_wizard_project_scenario", "ps.scenario_name", "ps.project_boundary", "bp.project_id", "ps.scenario_id", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Get project scenario summary with boundary area and building count for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A18_project_summary_var_147", "complexity_level": "A", "tags": ["project", "summary", "basic", "aggregation"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "00fe1681-93ca-4309-a17b-287b3f2ca616", "census_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "voltage_kv": 0.4, "bus_id": "4", "census_zone": "12720001946", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 100, "max_distance": 500, "cluster_distance": 2000, "min_area": 65, "max_area": 3074, "min_height": 8, "max_height": 33, "min_people": 3, "max_people": 16, "year": 1950, "min_population": 100, "min_buildings": 10, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 10, "min_points": 5, "lon": 14.260477, "lat": 40.097181, "limit": 10}, "generated_at": "2025-11-24T10:45:34.943041", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003442", "database_id": 1, "database_name": "cim_wizard", "question": "List buildings with basic properties in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, limit to 25 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT b.building_id, bp.type, bp.height, bp.area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nLIMIT 25;", "sql_spatialite": "SELECT b.building_id, bp.type, bp.height, bp.area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nLIMIT 25;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "cim_vector", "table_count": 11, "schema_count": 3}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: List buildings with basic properties in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A20_simple_building_list_var_43", "complexity_level": "A", "tags": ["basic", "building", "list"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 132.0, "bus_id": "0", "census_zone": "12720002002", "srid": 32632, "overlap_threshold": 40, "buffer_distance": 2000, "max_distance": 5000, "cluster_distance": 5000, "min_area": 489, "max_area": 4112, "min_height": 9, "max_height": 15, "min_people": 3, "max_people": 12, "year": 2013, "min_population": 500, "min_buildings": 20, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 5, "min_points": 3, "lon": 7.480566, "lat": 40.399768, "limit": 25}, "generated_at": "2025-11-24T10:45:34.961748", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003583", "database_id": 1, "database_name": "cim_wizard", "question": "List buildings with basic properties in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, limit to 50 results", "question_tone": "DIRECT", "priority": 1, "sql_postgis": "SELECT b.building_id, bp.type, bp.height, bp.area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf';", "sql_spatialite": "SELECT b.building_id, bp.type, bp.height, bp.area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\nLIMIT 50;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "cim_vector", "table_count": 11, "schema_count": 3}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: List buildings with basic properties in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A20_simple_building_list_var_184", "complexity_level": "A", "tags": ["basic", "building", "list"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "019ee682-7c8e-4e1d-9bcd-877b6f2d1bb7", "census_id": "00887359-a93c-4b0c-8cb8-1535ae3ad1f7", "voltage_kv": 20.0, "bus_id": "9", "census_zone": "12720002002", "srid": 32633, "overlap_threshold": 60, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 2000, "min_area": 295, "max_area": 3097, "min_height": 9, "max_height": 74, "min_people": 3, "max_people": 19, "year": 1999, "min_population": 500, "min_buildings": 10, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 5, "min_points": 8, "lon": 13.649276, "lat": 42.643937, "limit": 25}, "generated_at": "2025-11-24T10:45:34.971159", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003729", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings within census zones for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, limit to 50 results", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "SELECT b.building_id, bp.type, bp.height, \n       c.sez2011,\n       public.ST_Area(b.building_geometry) as building_area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo c ON public.ST_Within(public.ST_Centroid(b.building_geometry), c.geometry)\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf';", "sql_spatialite": "SELECT b.building_id, bp.type, bp.height, \n       c.sez2011,\n       public.ST_Area(b.building_geometry) as building_area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo c ON public.ST_Within(public.ST_Centroid(b.building_geometry), c.geometry)\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\nLIMIT 50;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "c", "cim_vector", "public", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Within", "public.ST_Centroid", "c.geometry", "bp.height", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id", "c.sez2011", "public.ST_Area"], "primary_schema": "cim_census", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_CENTROID", "ST_WITHIN", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_WITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "c", "cim_vector", "public", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Within", "public.ST_Centroid", "c.geometry", "bp.height", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id", "c.sez2011", "public.ST_Area"], "columns": [], "functions": ["ST_Within", "ST_Centroid", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings within census zones for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A8_buildings_in_census_var_130", "complexity_level": "A", "tags": ["basic", "building", "spatial_predicate", "census"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "0086830a-2510-4f23-926d-5d215729cc56", "census_id": "0346fe08-1688-474e-81bf-ad26c1b79c42", "voltage_kv": 0.4, "bus_id": "3", "census_zone": "12720001946", "srid": 3857, "overlap_threshold": 20, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 1000, "min_area": 113, "max_area": 4178, "min_height": 4, "max_height": 76, "min_people": 5, "max_people": 14, "year": 1999, "min_population": 1000, "min_buildings": 5, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 10, "min_points": 8, "lon": 7.084197, "lat": 38.563831, "limit": 100}, "generated_at": "2025-11-24T10:45:34.981130", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003754", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings within census zones for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 10 results", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "SELECT b.building_id, bp.type, bp.height, \n       c.sez2011,\n       public.ST_Area(b.building_geometry) as building_area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo c ON public.ST_Within(public.ST_Centroid(b.building_geometry), c.geometry)\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433';", "sql_spatialite": "SELECT b.building_id, bp.type, bp.height, \n       c.sez2011,\n       public.ST_Area(b.building_geometry) as building_area_sqm\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo c ON public.ST_Within(public.ST_Centroid(b.building_geometry), c.geometry)\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\nLIMIT 10;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "c", "cim_vector", "public", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Within", "public.ST_Centroid", "c.geometry", "bp.height", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id", "c.sez2011", "public.ST_Area"], "primary_schema": "cim_census", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_CENTROID", "ST_WITHIN", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_WITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "c", "cim_vector", "public", "bp"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Within", "public.ST_Centroid", "c.geometry", "bp.height", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id", "c.sez2011", "public.ST_Area"], "columns": [], "functions": ["ST_Within", "ST_Centroid", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings within census zones for project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A8_buildings_in_census_var_155", "complexity_level": "A", "tags": ["basic", "building", "spatial_predicate", "census"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "0216d44d-d352-4f12-bd16-79ba0f2dc167", "census_id": "0047ba60-0b2f-4b72-878e-02fe589ed37f", "voltage_kv": 0.4, "bus_id": "6", "census_zone": "12720002064", "srid": 32633, "overlap_threshold": 50, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 2000, "min_area": 283, "max_area": 2857, "min_height": 5, "max_height": 98, "min_people": 5, "max_people": 19, "year": 2006, "min_population": 100, "min_buildings": 10, "min_areas": 5, "cluster_count": 5, "min_cluster_size": 10, "min_points": 3, "lon": 15.811629, "lat": 39.926606, "limit": 100}, "generated_at": "2025-11-24T10:45:34.982693", "has_limit": false, "has_order_by": false, "limit_strategy": "TOP_N"}
{"id": "cim_003818", "database_id": 1, "database_name": "cim_wizard", "question": "Find census zones that intersect with project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 boundary, showing total population descending, limit to 100 results", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "SELECT c.sez2011,\n       c.p1 as total_population,\n       public.ST_Area(c.geometry) as census_area_sqm\nFROM cim_census.censusgeo c\nJOIN cim_vector.cim_wizard_project_scenario ps ON public.ST_Intersects(c.geometry, ps.project_boundary)\nWHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'LIMIT 100;", "sql_spatialite": "SELECT c.sez2011,\n       c.p1 as total_population,\n       public.ST_Area(c.geometry) as census_area_sqm\nFROM cim_census.censusgeo c\nJOIN cim_vector.cim_wizard_project_scenario ps ON public.ST_Intersects(c.geometry, ps.project_boundary)\nWHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\nORDER BY c.p1 DESC\nLIMIT 100;", "sql_type": "SPATIAL_JOIN", "sql_taxonomy": {"operation_type": "SPATIAL_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "spatial"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["c.p1", "ps.scenario_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "cim_census.censusgeo", "c.sez2011", "public.ST_Area", "ps.project_id"], "primary_schema": "cim_census", "table_count": 10, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_AREA"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["c.p1", "ps.scenario_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "cim_census.censusgeo", "c.sez2011", "public.ST_Area", "ps.project_id"], "columns": [], "functions": ["ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find census zones that intersect with project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 boundary, showing total population descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A9_census_in_project_var_19", "complexity_level": "A", "tags": ["project", "basic", "spatial_predicate", "census"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "00a42bee-c946-48fc-9603-fdf82979a7af", "census_id": "02491899-ba02-4ed3-afca-43985ff180d8", "voltage_kv": 132.0, "bus_id": "12", "census_zone": "12720001707", "srid": 3857, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 5000, "min_area": 363, "max_area": 1343, "min_height": 5, "max_height": 60, "min_people": 5, "max_people": 18, "year": 1992, "min_population": 500, "min_buildings": 10, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 5, "min_points": 8, "lon": 10.172814, "lat": 37.195223, "limit": 50}, "generated_at": "2025-11-24T10:45:34.986906", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_003965", "database_id": 1, "database_name": "cim_wizard", "question": "Find census zones that intersect with project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a boundary, showing total population descending, limit to 25 results", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "SELECT c.sez2011,\n       c.p1 as total_population,\n       public.ST_Area(c.geometry) as census_area_sqm\nFROM cim_census.censusgeo c\nJOIN cim_vector.cim_wizard_project_scenario ps ON public.ST_Intersects(c.geometry, ps.project_boundary)\nWHERE ps.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND ps.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'LIMIT 25;", "sql_spatialite": "SELECT c.sez2011,\n       c.p1 as total_population,\n       public.ST_Area(c.geometry) as census_area_sqm\nFROM cim_census.censusgeo c\nJOIN cim_vector.cim_wizard_project_scenario ps ON public.ST_Intersects(c.geometry, ps.project_boundary)\nWHERE ps.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND ps.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nORDER BY c.p1 DESC\nLIMIT 25;", "sql_type": "SPATIAL_JOIN", "sql_taxonomy": {"operation_type": "SPATIAL_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "spatial"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["c.p1", "ps.scenario_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "cim_census.censusgeo", "c.sez2011", "public.ST_Area", "ps.project_id"], "primary_schema": "cim_census", "table_count": 10, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_AREA"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["c.p1", "ps.scenario_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "cim_census.censusgeo", "c.sez2011", "public.ST_Area", "ps.project_id"], "columns": [], "functions": ["ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find census zones that intersect with project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a boundary, showing total population descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_A9_census_in_project_var_166", "complexity_level": "A", "tags": ["project", "basic", "spatial_predicate", "census"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "census_id": "032a80f4-2c0b-4fc5-adb5-ef81072c4fcb", "voltage_kv": 20.0, "bus_id": "6", "census_zone": "10180000029", "srid": 3857, "overlap_threshold": 20, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 467, "max_area": 1850, "min_height": 4, "max_height": 96, "min_people": 1, "max_people": 7, "year": 1975, "min_population": 500, "min_buildings": 10, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 5, "min_points": 5, "lon": 9.848248, "lat": 41.78908, "limit": 100}, "generated_at": "2025-11-24T10:45:34.996520", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004173", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate building statistics (count, average height, average area, total population) grouped by type for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing building count descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT bp.type as building_type,\n       COUNT(*) as building_count,\n       AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       SUM(bp.n_people) as total_population\nFROM cim_vector.cim_wizard_building_properties bp\nJOIN cim_vector.cim_wizard_building b ON bp.building_id = b.building_id AND bp.lod = b.lod\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_spatialite": "SELECT bp.type as building_type,\n       COUNT(*) as building_count,\n       AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       SUM(bp.n_people) as total_population\nFROM cim_vector.cim_wizard_building_properties bp\nJOIN cim_vector.cim_wizard_building b ON bp.building_id = b.building_id AND bp.lod = b.lod\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "cim_vector", "table_count": 12, "schema_count": 3}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate building statistics (count, average height, average area, total population) grouped by type for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing building count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B1_building_stats_by_type_var_174", "complexity_level": "B", "tags": ["aggregation", "building", "statistics", "grouping"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "01a0c47e-abb0-4327-9f30-f5f845b5defa", "census_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "voltage_kv": 400.0, "bus_id": "6", "census_zone": "12720001884", "srid": 4326, "overlap_threshold": 60, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 2000, "min_area": 140, "max_area": 1763, "min_height": 10, "max_height": 49, "min_people": 5, "max_people": 19, "year": 1951, "min_population": 100, "min_buildings": 20, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 16.155614, "lat": 44.630552, "limit": 25}, "generated_at": "2025-11-24T10:45:35.011626", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004189", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate building statistics (count, average height, average area, total population) grouped by type for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing building count descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "SELECT bp.type as building_type,\n       COUNT(*) as building_count,\n       AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       SUM(bp.n_people) as total_population\nFROM cim_vector.cim_wizard_building_properties bp\nJOIN cim_vector.cim_wizard_building b ON bp.building_id = b.building_id AND bp.lod = b.lod\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_spatialite": "SELECT bp.type as building_type,\n       COUNT(*) as building_count,\n       AVG(bp.height) as avg_height,\n       AVG(bp.area) as avg_area,\n       SUM(bp.n_people) as total_population\nFROM cim_vector.cim_wizard_building_properties bp\nJOIN cim_vector.cim_wizard_building b ON bp.building_id = b.building_id AND bp.lod = b.lod\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY bp.type\nORDER BY building_count DESC;", "sql_type": "AGGREGATION", "sql_taxonomy": {"operation_type": "AGGREGATION", "has_cte": false, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "cim_vector", "table_count": 12, "schema_count": 3}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate building statistics (count, average height, average area, total population) grouped by type for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing building count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B1_building_stats_by_type_var_190", "complexity_level": "B", "tags": ["aggregation", "building", "statistics", "grouping"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "02f3c101-222f-4f48-8a0a-6aee8b7c50e8", "census_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "voltage_kv": 400.0, "bus_id": "3", "census_zone": "11710000046", "srid": 32632, "overlap_threshold": 10, "buffer_distance": 1000, "max_distance": 1000, "cluster_distance": 5000, "min_area": 344, "max_area": 3575, "min_height": 8, "max_height": 28, "min_people": 2, "max_people": 14, "year": 1994, "min_population": 100, "min_buildings": 10, "min_areas": 3, "cluster_count": 3, "min_cluster_size": 10, "min_points": 5, "lon": 14.963866, "lat": 42.607816, "limit": 25}, "generated_at": "2025-11-24T10:45:35.012686", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004213", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 within 500 meters of active grid buses with voltage at or above 132.0 kV, showing distance ascending, limit to 10 results", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "SELECT b.building_id, \n       bp.type,\n       bp.height,\n       public.ST_Distance(b.building_geometry, gb.geometry) as distance_to_grid_m,\n       gb.voltage_kv\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND gb.voltage_kv >= 132.0\n  AND gb.in_service = true\n  AND public.ST_DWithin(b.building_geometry, gb.geometry, 500)LIMIT 10;", "sql_spatialite": "SELECT b.building_id, \n       bp.type,\n       bp.height,\n       public.ST_Distance(b.building_geometry, gb.geometry) as distance_to_grid_m,\n       gb.voltage_kv\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND gb.voltage_kv >= 132.0\n  AND gb.in_service = true\n  AND public.ST_DWithin(b.building_geometry, gb.geometry, 500)\nORDER BY distance_to_grid_m ASC\nLIMIT 10;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "gb", "public", "132", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_DWithin", "cim_network.network_buses", "bp.project_id", "gb.geometry", "bp.type", "132.0", "public.ST_Distance", "bp.height", "bp.lod", "b.building_id"], "primary_schema": "b", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_DISTANCE", "ST_DWITHIN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_DWITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "gb", "public", "132", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_DWithin", "cim_network.network_buses", "bp.project_id", "gb.geometry", "bp.type", "132.0", "public.ST_Distance", "bp.height", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_Distance", "ST_DWithin"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 within 500 meters of active grid buses with voltage at or above 132.0 kV, showing distance ascending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B2_buildings_near_grid_var_14", "complexity_level": "B", "tags": ["grid", "spatial_join", "building", "distance", "proximity"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "census_id": "036a709d-07e7-412e-9c7a-5460f6820ed9", "voltage_kv": 20.0, "bus_id": "11", "census_zone": "12720001946", "srid": 3857, "overlap_threshold": 70, "buffer_distance": 500, "max_distance": 5000, "cluster_distance": 5000, "min_area": 145, "max_area": 4687, "min_height": 5, "max_height": 35, "min_people": 1, "max_people": 12, "year": 2007, "min_population": 500, "min_buildings": 20, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 10, "min_points": 5, "lon": 10.171898, "lat": 42.740272, "limit": 100}, "generated_at": "2025-11-24T10:45:35.014299", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004301", "database_id": 1, "database_name": "cim_wizard", "question": "Find buildings in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf within 2000 meters of active grid buses with voltage at or above 20.0 kV, ordered by distance ascending, limit to 10 results", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "SELECT b.building_id, \n       bp.type,\n       bp.height,\n       public.ST_Distance(b.building_geometry, gb.geometry) as distance_to_grid_m,\n       gb.voltage_kv\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND gb.voltage_kv >= 20.0\n  AND gb.in_service = true\n  AND public.ST_DWithin(b.building_geometry, gb.geometry, 2000)\nORDER BY distance_to_grid_m ASC;", "sql_spatialite": "SELECT b.building_id, \n       bp.type,\n       bp.height,\n       public.ST_Distance(b.building_geometry, gb.geometry) as distance_to_grid_m,\n       gb.voltage_kv\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND gb.voltage_kv >= 20.0\n  AND gb.in_service = true\n  AND public.ST_DWithin(b.building_geometry, gb.geometry, 2000)\nORDER BY distance_to_grid_m ASC\nLIMIT 10;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "20", "cim_vector", "gb", "public", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "20.0", "public.ST_DWithin", "cim_network.network_buses", "bp.project_id", "gb.geometry", "bp.type", "public.ST_Distance", "bp.height", "bp.lod", "b.building_id"], "primary_schema": "b", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_DISTANCE", "ST_DWITHIN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_DWITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "20", "cim_vector", "gb", "public", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "20.0", "public.ST_DWithin", "cim_network.network_buses", "bp.project_id", "gb.geometry", "bp.type", "public.ST_Distance", "bp.height", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_Distance", "ST_DWithin"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find buildings in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf within 2000 meters of active grid buses with voltage at or above 20.0 kV, ordered by distance ascending, limit to 10 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B2_buildings_near_grid_var_102", "complexity_level": "B", "tags": ["grid", "spatial_join", "building", "distance", "proximity"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "01808035-47bd-4a6f-81ba-07ef5e44f93d", "census_id": "013d45a8-3563-42a0-a01c-335ea67d1070", "voltage_kv": 0.4, "bus_id": "8", "census_zone": "10180000018", "srid": 4326, "overlap_threshold": 10, "buffer_distance": 1000, "max_distance": 1000, "cluster_distance": 1000, "min_area": 111, "max_area": 2922, "min_height": 6, "max_height": 98, "min_people": 1, "max_people": 17, "year": 1963, "min_population": 500, "min_buildings": 20, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 10, "min_points": 8, "lon": 14.39723, "lat": 41.291051, "limit": 100}, "generated_at": "2025-11-24T10:45:35.020424", "has_limit": false, "has_order_by": true, "limit_strategy": "TOP_N"}
{"id": "cim_004487", "database_id": 1, "database_name": "cim_wizard", "question": "Aggregate building data (count, total population, average area) by census municipality for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing total population descending, limit to 50 results", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "SELECT cg.comune as municipality,\n       COUNT(b.building_id) as buildings_count,\n       SUM(bp.n_people) as total_population,\n       AVG(bp.area) as avg_building_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo cg ON public.ST_Within(public.ST_Centroid(b.building_geometry), cg.geometry)\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\nGROUP BY cg.comuneLIMIT 50;", "sql_spatialite": "SELECT cg.comune as municipality,\n       COUNT(b.building_id) as buildings_count,\n       SUM(bp.n_people) as total_population,\n       AVG(bp.area) as avg_building_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo cg ON public.ST_Within(public.ST_Centroid(b.building_geometry), cg.geometry)\nWHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' \n  AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\nGROUP BY cg.comune\nORDER BY total_population DESC\nLIMIT 50;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "cim_vector", "public", "cg", "bp"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.building_geometry", "b.lod", "cg.comuneLIMIT", "cg.geometry", "cg.comune", "public.ST_Within", "public.ST_Centroid", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id"], "primary_schema": "cim_census", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_CENTROID", "ST_WITHIN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_WITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "cim_vector", "public", "cg", "bp"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.building_geometry", "b.lod", "cg.comuneLIMIT", "cg.geometry", "cg.comune", "public.ST_Within", "public.ST_Centroid", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id"], "columns": [], "functions": ["ST_Within", "ST_Centroid"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Aggregate building data (count, total population, average area) by census municipality for project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, showing total population descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B3_building_census_aggregation_var_88", "complexity_level": "B", "tags": ["aggregation", "building", "census", "spatial_join"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "02491899-ba02-4ed3-afca-43985ff180d8", "census_id": "026e8641-2eec-4b1f-bcc8-145c6ce5cc38", "voltage_kv": 20.0, "bus_id": "14", "census_zone": "12720002064", "srid": 4326, "overlap_threshold": 80, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 2000, "min_area": 230, "max_area": 4815, "min_height": 5, "max_height": 60, "min_people": 5, "max_people": 14, "year": 1984, "min_population": 500, "min_buildings": 20, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 10, "min_points": 5, "lon": 15.319723, "lat": 45.623165, "limit": 100}, "generated_at": "2025-11-24T10:45:35.033753", "has_limit": true, "has_order_by": false, "limit_strategy": "TOP_N"}
{"id": "cim_004532", "database_id": 1, "database_name": "cim_wizard", "question": "Aggregate building data (count, total population, average area) by census municipality for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing total population descending, limit to 50 results", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "SELECT cg.comune as municipality,\n       COUNT(b.building_id) as buildings_count,\n       SUM(bp.n_people) as total_population,\n       AVG(bp.area) as avg_building_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo cg ON public.ST_Within(public.ST_Centroid(b.building_geometry), cg.geometry)\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY cg.comuneLIMIT 50;", "sql_spatialite": "SELECT cg.comune as municipality,\n       COUNT(b.building_id) as buildings_count,\n       SUM(bp.n_people) as total_population,\n       AVG(bp.area) as avg_building_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo cg ON public.ST_Within(public.ST_Centroid(b.building_geometry), cg.geometry)\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\nGROUP BY cg.comune\nORDER BY total_population DESC\nLIMIT 50;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "cim_vector", "public", "cg", "bp"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.building_geometry", "b.lod", "cg.comuneLIMIT", "cg.geometry", "cg.comune", "public.ST_Within", "public.ST_Centroid", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id"], "primary_schema": "cim_census", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_CENTROID", "ST_WITHIN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_WITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "cim_vector", "public", "cg", "bp"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.building_geometry", "b.lod", "cg.comuneLIMIT", "cg.geometry", "cg.comune", "public.ST_Within", "public.ST_Centroid", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id"], "columns": [], "functions": ["ST_Within", "ST_Centroid"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Aggregate building data (count, total population, average area) by census municipality for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing total population descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B3_building_census_aggregation_var_133", "complexity_level": "B", "tags": ["aggregation", "building", "census", "spatial_join"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "01764da2-a801-4dec-83bf-3a535fd083ab", "census_id": "0331072a-ce76-4992-a80a-fbfe2bd45ce6", "voltage_kv": 132.0, "bus_id": "5", "census_zone": "12720001763", "srid": 32633, "overlap_threshold": 20, "buffer_distance": 500, "max_distance": 5000, "cluster_distance": 1000, "min_area": 129, "max_area": 2934, "min_height": 5, "max_height": 76, "min_people": 4, "max_people": 6, "year": 1985, "min_population": 100, "min_buildings": 10, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 16.710916, "lat": 38.543696, "limit": 50}, "generated_at": "2025-11-24T10:45:35.037539", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004566", "database_id": 1, "database_name": "cim_wizard", "question": "Aggregate building data (count, total population, average area) by census municipality for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing total population descending, limit to 100 results", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "SELECT cg.comune as municipality,\n       COUNT(b.building_id) as buildings_count,\n       SUM(bp.n_people) as total_population,\n       AVG(bp.area) as avg_building_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo cg ON public.ST_Within(public.ST_Centroid(b.building_geometry), cg.geometry)\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY cg.comuneLIMIT 100;", "sql_spatialite": "SELECT cg.comune as municipality,\n       COUNT(b.building_id) as buildings_count,\n       SUM(bp.n_people) as total_population,\n       AVG(bp.area) as avg_building_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_census.censusgeo cg ON public.ST_Within(public.ST_Centroid(b.building_geometry), cg.geometry)\nWHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' \n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\nGROUP BY cg.comune\nORDER BY total_population DESC\nLIMIT 100;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "cim_vector", "public", "cg", "bp"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.building_geometry", "b.lod", "cg.comuneLIMIT", "cg.geometry", "cg.comune", "public.ST_Within", "public.ST_Centroid", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id"], "primary_schema": "cim_census", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_CENTROID", "ST_WITHIN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_WITHIN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "cim_vector", "public", "cg", "bp"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "bp.building_id", "cim_vector.cim_wizard_building_properties", "b.building_geometry", "b.lod", "cg.comuneLIMIT", "cg.geometry", "cg.comune", "public.ST_Within", "public.ST_Centroid", "bp.project_id", "bp.lod", "cim_census.censusgeo", "b.building_id"], "columns": [], "functions": ["ST_Within", "ST_Centroid"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Aggregate building data (count, total population, average area) by census municipality for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing total population descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B3_building_census_aggregation_var_167", "complexity_level": "B", "tags": ["aggregation", "building", "census", "spatial_join"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "03121e2b-62b8-466f-9595-a5145e1ca2df", "census_id": "0040217f-9865-4cab-9478-731e0c443a85", "voltage_kv": 0.4, "bus_id": "8", "census_zone": "12720002064", "srid": 4326, "overlap_threshold": 70, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 2000, "min_area": 100, "max_area": 3044, "min_height": 3, "max_height": 97, "min_people": 1, "max_people": 8, "year": 2016, "min_population": 100, "min_buildings": 10, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 7.582771, "lat": 36.960949, "limit": 50}, "generated_at": "2025-11-24T10:45:35.040340", "has_limit": true, "has_order_by": false, "limit_strategy": "TOP_N"}
{"id": "cim_004655", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze electrical grid line connectivity between active bus stations, showing line length descending, limit to 100 results", "question_tone": "TEMPORAL", "priority": 3, "sql_postgis": "SELECT gl.line_id, gl.line_name, gl.length_km,\n       gb1.bus_name as from_bus_name,\n       gb2.bus_name as to_bus_name,\n       gb1.voltage_kv\nFROM cim_network.network_lines gl\nJOIN cim_network.network_buses gb1 ON gl.from_bus_id = gb1.bus_id\nJOIN cim_network.network_buses gb2 ON gl.to_bus_id = gb2.bus_id\nWHERE gl.in_service = true\n  AND gb1.in_service = true\n  AND gb2.in_service = trueLIMIT 100;", "sql_spatialite": "SELECT gl.line_id, gl.line_name, gl.length_km,\n       gb1.bus_name as from_bus_name,\n       gb2.bus_name as to_bus_name,\n       gb1.voltage_kv\nFROM cim_network.network_lines gl\nJOIN cim_network.network_buses gb1 ON gl.from_bus_id = gb1.bus_id\nJOIN cim_network.network_buses gb2 ON gl.to_bus_id = gb2.bus_id\nWHERE gl.in_service = true\n  AND gb1.in_service = true\n  AND gb2.in_service = true\nORDER BY gl.length_km DESC\nLIMIT 100;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_network", "gb2", "gl", "gb1"], "tables": ["cim_network.network_lines", "gb2.in_service", "gb2.bus_id", "gb1.bus_name", "gb2.bus_name", "gl.line_name", "cim_network.network_buses", "gl.line_id", "gl.from_bus_id", "gb1.bus_id", "gl.to_bus_id", "gl.in_service", "gb1.voltage_kv", "gl.length_km", "gb1.in_service"], "primary_schema": "cim_network", "table_count": 15, "schema_count": 4}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_network", "gb2", "gl", "gb1"], "tables": ["cim_network.network_lines", "gb2.in_service", "gb2.bus_id", "gb1.bus_name", "gb2.bus_name", "gl.line_name", "cim_network.network_buses", "gl.line_id", "gl.from_bus_id", "gb1.bus_id", "gl.to_bus_id", "gl.in_service", "gb1.voltage_kv", "gl.length_km", "gb1.in_service"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze electrical grid line connectivity between active bus stations, showing line length descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B4_grid_line_connectivity_var_56", "complexity_level": "B", "tags": ["network", "connectivity", "grid", "multi_join"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "02b81f56-6754-4a53-9fea-e93380f1242f", "census_id": "026e8641-2eec-4b1f-bcc8-145c6ce5cc38", "voltage_kv": 400.0, "bus_id": "7", "census_zone": "10180000018", "srid": 3857, "overlap_threshold": 30, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 2000, "min_area": 122, "max_area": 1916, "min_height": 6, "max_height": 79, "min_people": 3, "max_people": 17, "year": 1962, "min_population": 100, "min_buildings": 10, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 10, "min_points": 8, "lon": 11.811211, "lat": 36.469739, "limit": 10}, "generated_at": "2025-11-24T10:45:35.046447", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004659", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze electrical grid line connectivity between active bus stations, showing line length descending, limit to 100 results", "question_tone": "TEMPORAL", "priority": 3, "sql_postgis": "SELECT gl.line_id, gl.line_name, gl.length_km,\n       gb1.bus_name as from_bus_name,\n       gb2.bus_name as to_bus_name,\n       gb1.voltage_kv\nFROM cim_network.network_lines gl\nJOIN cim_network.network_buses gb1 ON gl.from_bus_id = gb1.bus_id\nJOIN cim_network.network_buses gb2 ON gl.to_bus_id = gb2.bus_id\nWHERE gl.in_service = true\n  AND gb1.in_service = true\n  AND gb2.in_service = trueLIMIT 100;", "sql_spatialite": "SELECT gl.line_id, gl.line_name, gl.length_km,\n       gb1.bus_name as from_bus_name,\n       gb2.bus_name as to_bus_name,\n       gb1.voltage_kv\nFROM cim_network.network_lines gl\nJOIN cim_network.network_buses gb1 ON gl.from_bus_id = gb1.bus_id\nJOIN cim_network.network_buses gb2 ON gl.to_bus_id = gb2.bus_id\nWHERE gl.in_service = true\n  AND gb1.in_service = true\n  AND gb2.in_service = true\nORDER BY gl.length_km DESC\nLIMIT 100;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["cim_network", "gb2", "gl", "gb1"], "tables": ["cim_network.network_lines", "gb2.in_service", "gb2.bus_id", "gb1.bus_name", "gb2.bus_name", "gl.line_name", "cim_network.network_buses", "gl.line_id", "gl.from_bus_id", "gb1.bus_id", "gl.to_bus_id", "gl.in_service", "gb1.voltage_kv", "gl.length_km", "gb1.in_service"], "primary_schema": "cim_network", "table_count": 15, "schema_count": 4}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["cim_network", "gb2", "gl", "gb1"], "tables": ["cim_network.network_lines", "gb2.in_service", "gb2.bus_id", "gb1.bus_name", "gb2.bus_name", "gl.line_name", "cim_network.network_buses", "gl.line_id", "gl.from_bus_id", "gb1.bus_id", "gl.to_bus_id", "gl.in_service", "gb1.voltage_kv", "gl.length_km", "gb1.in_service"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze electrical grid line connectivity between active bus stations, showing line length descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B4_grid_line_connectivity_var_60", "complexity_level": "B", "tags": ["network", "connectivity", "grid", "multi_join"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "00b272c0-0e93-4d53-a969-d768c3280dce", "census_id": "01b71fdb-8ac8-4cdf-be29-943872fda5b3", "voltage_kv": 20.0, "bus_id": "10", "census_zone": "12720001707", "srid": 4326, "overlap_threshold": 60, "buffer_distance": 500, "max_distance": 1000, "cluster_distance": 5000, "min_area": 463, "max_area": 3729, "min_height": 6, "max_height": 66, "min_people": 3, "max_people": 15, "year": 1970, "min_population": 500, "min_buildings": 5, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 3, "min_points": 5, "lon": 9.881073, "lat": 42.393255, "limit": 25}, "generated_at": "2025-11-24T10:45:35.047657", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004939", "database_id": 1, "database_name": "cim_wizard", "question": "Create 1000 meter buffers around buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 and calculate buffer areas, showing area descending, limit to 100 results", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "WITH buffered_buildings AS (\n  SELECT b.building_id, \n         bp.type,\n         public.ST_Buffer(b.building_geometry, 1000) as buffer_geom\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n)\nSELECT building_id, type, public.ST_Area(buffer_geom) as buffer_area_sqm\nFROM buffered_buildingsLIMIT 100;", "sql_spatialite": "WITH buffered_buildings AS (\n  SELECT b.building_id, \n         bp.type,\n         public.ST_Buffer(b.building_geometry, 1000) as buffer_geom\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n)\nSELECT building_id, type, public.ST_Area(buffer_geom) as buffer_area_sqm\nFROM buffered_buildings\nORDER BY buffer_area_sqm DESC\nLIMIT 100;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "public.ST_Buffer", "b.building_id", "public.ST_Area"], "primary_schema": "public", "table_count": 12, "schema_count": 4}, "spatial_functions": ["ST_BUFFER", "ST_AREA"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_BUFFER", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "public.ST_Buffer", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Area", "ST_Buffer"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Create 1000 meter buffers around buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 and calculate buffer areas, showing area descending, limit to 100 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B5_building_buffer_analysis_var_140", "complexity_level": "B", "tags": ["building", "processing", "buffer", "cte"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "census_id": "036a709d-07e7-412e-9c7a-5460f6820ed9", "voltage_kv": 132.0, "bus_id": "6", "census_zone": "12720001946", "srid": 3857, "overlap_threshold": 80, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 5000, "min_area": 174, "max_area": 4788, "min_height": 3, "max_height": 51, "min_people": 3, "max_people": 19, "year": 1964, "min_population": 100, "min_buildings": 20, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 10, "min_points": 3, "lon": 16.390287, "lat": 40.111199, "limit": 50}, "generated_at": "2025-11-24T10:45:35.065202", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_004979", "database_id": 1, "database_name": "cim_wizard", "question": "Create 1000 meter buffers around buildings in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 and calculate buffer areas, showing area descending, limit to 50 results", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "WITH buffered_buildings AS (\n  SELECT b.building_id, \n         bp.type,\n         public.ST_Buffer(b.building_geometry, 1000) as buffer_geom\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT building_id, type, public.ST_Area(buffer_geom) as buffer_area_sqm\nFROM buffered_buildingsLIMIT 50;", "sql_spatialite": "WITH buffered_buildings AS (\n  SELECT b.building_id, \n         bp.type,\n         public.ST_Buffer(b.building_geometry, 1000) as buffer_geom\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT building_id, type, public.ST_Area(buffer_geom) as buffer_area_sqm\nFROM buffered_buildings\nORDER BY buffer_area_sqm DESC\nLIMIT 50;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "public.ST_Buffer", "b.building_id", "public.ST_Area"], "primary_schema": "public", "table_count": 12, "schema_count": 4}, "spatial_functions": ["ST_BUFFER", "ST_AREA"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_BUFFER", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.project_id", "bp.lod", "public.ST_Buffer", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Area", "ST_Buffer"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Create 1000 meter buffers around buildings in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 and calculate buffer areas, showing area descending, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B5_building_buffer_analysis_var_180", "complexity_level": "B", "tags": ["building", "processing", "buffer", "cte"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "0069f14b-4147-4254-a727-04198d14fab6", "census_id": "00633a25-715f-4e23-9c24-c8c5e4e2678c", "voltage_kv": 20.0, "bus_id": "0", "census_zone": "12720001946", "srid": 3857, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 1000, "cluster_distance": 1000, "min_area": 429, "max_area": 1180, "min_height": 9, "max_height": 87, "min_people": 5, "max_people": 12, "year": 1960, "min_population": 100, "min_buildings": 5, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 10, "min_points": 8, "lon": 10.762742, "lat": 41.767562, "limit": 10}, "generated_at": "2025-11-24T10:45:35.067854", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005068", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze employment and unemployment rates across all census zones with working age population greater than zero", "question_tone": "ANALYTICAL", "priority": 3, "sql_postgis": "SELECT COUNT(*) as census_areas,\n       AVG((c.p62::float / NULLIF(c.p60, 0)) * 100) as avg_unemployment_rate,\n       SUM(c.p61) as total_employed\nFROM cim_census.censusgeo c\nWHERE c.p60 > 0;", "sql_spatialite": "SELECT COUNT(*) as census_areas,\n       AVG((c.p62::float / NULLIF(c.p60, 0)) * 100) as avg_unemployment_rate,\n       SUM(c.p61) as total_employed\nFROM cim_census.censusgeo c\nWHERE c.p60 > 0;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["c", "cim_census"], "tables": ["c.p62", "c.p61", "cim_census.censusgeo", "c.p60"], "primary_schema": "c", "table_count": 4, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census"], "tables": ["c.p62", "c.p61", "cim_census.censusgeo", "c.p60"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze employment and unemployment rates across all census zones with working age population greater than zero", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B6_census_employment_var_69", "complexity_level": "B", "tags": ["aggregation", "statistics", "employment", "census"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "012d11ed-97f7-46a8-ad80-ed38320b3fa8", "census_id": "0033de25-d7d1-48d5-98c3-bc02973a13c0", "voltage_kv": 132.0, "bus_id": "3", "census_zone": "10900000379", "srid": 32633, "overlap_threshold": 20, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 5000, "min_area": 111, "max_area": 2560, "min_height": 8, "max_height": 93, "min_people": 2, "max_people": 17, "year": 2004, "min_population": 1000, "min_buildings": 5, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 7.993504, "lat": 43.188891, "limit": 10}, "generated_at": "2025-11-24T10:45:35.073329", "has_limit": false, "has_order_by": false, "limit_strategy": "TOP_N"}
{"id": "cim_005171", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze employment and unemployment rates across all census zones with working age population greater than zero", "question_tone": "ANALYTICAL", "priority": 3, "sql_postgis": "SELECT COUNT(*) as census_areas,\n       AVG((c.p62::float / NULLIF(c.p60, 0)) * 100) as avg_unemployment_rate,\n       SUM(c.p61) as total_employed\nFROM cim_census.censusgeo c\nWHERE c.p60 > 0;", "sql_spatialite": "SELECT COUNT(*) as census_areas,\n       AVG((c.p62::float / NULLIF(c.p60, 0)) * 100) as avg_unemployment_rate,\n       SUM(c.p61) as total_employed\nFROM cim_census.censusgeo c\nWHERE c.p60 > 0;", "sql_type": "SIMPLE_SELECT", "sql_taxonomy": {"operation_type": "SIMPLE_SELECT", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "low_frequent", "database_schema": {"schemas": ["c", "cim_census"], "tables": ["c.p62", "c.p61", "cim_census.censusgeo", "c.p60"], "primary_schema": "c", "table_count": 4, "schema_count": 2}, "spatial_functions": [], "spatial_function_count": 0, "spatial_function_details": [], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census"], "tables": ["c.p62", "c.p61", "cim_census.censusgeo", "c.p60"], "columns": [], "functions": [], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze employment and unemployment rates across all census zones with working age population greater than zero", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B6_census_employment_var_172", "complexity_level": "B", "tags": ["aggregation", "statistics", "employment", "census"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "0054c487-661b-493d-a819-e143b6c66e52", "census_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "voltage_kv": 132.0, "bus_id": "1", "census_zone": "10180000029", "srid": 32633, "overlap_threshold": 60, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 5000, "min_area": 433, "max_area": 4939, "min_height": 3, "max_height": 69, "min_people": 1, "max_people": 14, "year": 2006, "min_population": 1000, "min_buildings": 5, "min_areas": 5, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 15.463898, "lat": 44.888477, "limit": 100}, "generated_at": "2025-11-24T10:45:35.079008", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005215", "database_id": 1, "database_name": "cim_wizard", "question": "Find 10 nearest buildings to building 0098d25a-d0b1-4081-ba67-ae9112bbbf95 within 5000 meters in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, using centroid distance and showing distance ascending", "question_tone": "SPATIAL_SPECIFIC", "priority": 1, "sql_postgis": "SELECT b1.building_id,\n       bp1.type,\n       bp1.height,\n       public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) as distance_m\nFROM cim_vector.cim_wizard_building b1\nJOIN cim_vector.cim_wizard_building_properties bp1 ON b1.building_id = bp1.building_id AND b1.lod = bp1.lod\nCROSS JOIN cim_vector.cim_wizard_building b2\nWHERE bp1.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp1.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND b2.building_id = '0098d25a-d0b1-4081-ba67-ae9112bbbf95'\n  AND b1.building_id != b2.building_id\n  AND public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) < 5000LIMIT 10;", "sql_spatialite": "SELECT b1.building_id,\n       bp1.type,\n       bp1.height,\n       public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) as distance_m\nFROM cim_vector.cim_wizard_building b1\nJOIN cim_vector.cim_wizard_building_properties bp1 ON b1.building_id = bp1.building_id AND b1.lod = bp1.lod\nCROSS JOIN cim_vector.cim_wizard_building b2\nWHERE bp1.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp1.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND b2.building_id = '0098d25a-d0b1-4081-ba67-ae9112bbbf95'\n  AND b1.building_id != b2.building_id\n  AND public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) < 5000\nORDER BY distance_m ASC\nLIMIT 10;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b2", "cim_vector", "b1", "public", "bp1"], "tables": ["cim_vector.cim_wizard_building", "cim_vector.cim_wizard_building_properties", "b1.building_id", "b1.building_geometry", "bp1.building_id", "bp1.project_id", "bp1.scenario_id", "bp1.height", "public.ST_Centroid", "public.ST_Distance", "b2.building_geometry", "bp1.type", "b2.building_id", "bp1.lod", "b1.lod"], "primary_schema": "b2", "table_count": 15, "schema_count": 5}, "spatial_functions": ["ST_DISTANCE", "ST_CENTROID"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b2", "cim_vector", "b1", "public", "bp1"], "tables": ["cim_vector.cim_wizard_building", "cim_vector.cim_wizard_building_properties", "b1.building_id", "b1.building_geometry", "bp1.building_id", "bp1.project_id", "bp1.scenario_id", "bp1.height", "public.ST_Centroid", "public.ST_Distance", "b2.building_geometry", "bp1.type", "b2.building_id", "bp1.lod", "b1.lod"], "columns": [], "functions": ["ST_Centroid", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find 10 nearest buildings to building 0098d25a-d0b1-4081-ba67-ae9112bbbf95 within 5000 meters in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, using centroid distance and showing distance ascending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B7_nearest_buildings_var_16", "complexity_level": "B", "tags": ["building", "distance", "proximity", "nearest_neighbor"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "01a94fd3-07e3-4ada-8014-9d7bd68a4a97", "census_id": "0047ba60-0b2f-4b72-878e-02fe589ed37f", "voltage_kv": 20.0, "bus_id": "7", "census_zone": "10900000379", "srid": 32633, "overlap_threshold": 20, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 5000, "min_area": 327, "max_area": 1241, "min_height": 5, "max_height": 83, "min_people": 1, "max_people": 7, "year": 2016, "min_population": 100, "min_buildings": 20, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 5, "min_points": 3, "lon": 9.757325, "lat": 44.041247, "limit": 50}, "generated_at": "2025-11-24T10:45:35.081602", "has_limit": true, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_005216", "database_id": 1, "database_name": "cim_wizard", "question": "Find 10 nearest buildings to building 0098d25a-d0b1-4081-ba67-ae9112bbbf95 within 5000 meters in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, using centroid distance and showing distance ascending", "question_tone": "SPATIAL_SPECIFIC", "priority": 1, "sql_postgis": "SELECT b1.building_id,\n       bp1.type,\n       bp1.height,\n       public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) as distance_m\nFROM cim_vector.cim_wizard_building b1\nJOIN cim_vector.cim_wizard_building_properties bp1 ON b1.building_id = bp1.building_id AND b1.lod = bp1.lod\nCROSS JOIN cim_vector.cim_wizard_building b2\nWHERE bp1.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp1.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND b2.building_id = '0098d25a-d0b1-4081-ba67-ae9112bbbf95'\n  AND b1.building_id != b2.building_id\n  AND public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) < 5000LIMIT 10;", "sql_spatialite": "SELECT b1.building_id,\n       bp1.type,\n       bp1.height,\n       public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) as distance_m\nFROM cim_vector.cim_wizard_building b1\nJOIN cim_vector.cim_wizard_building_properties bp1 ON b1.building_id = bp1.building_id AND b1.lod = bp1.lod\nCROSS JOIN cim_vector.cim_wizard_building b2\nWHERE bp1.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND bp1.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n  AND b2.building_id = '0098d25a-d0b1-4081-ba67-ae9112bbbf95'\n  AND b1.building_id != b2.building_id\n  AND public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) < 5000\nORDER BY distance_m ASC\nLIMIT 10;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b2", "cim_vector", "b1", "public", "bp1"], "tables": ["cim_vector.cim_wizard_building", "cim_vector.cim_wizard_building_properties", "b1.building_id", "b1.building_geometry", "bp1.building_id", "bp1.project_id", "bp1.scenario_id", "bp1.height", "public.ST_Centroid", "public.ST_Distance", "b2.building_geometry", "bp1.type", "b2.building_id", "bp1.lod", "b1.lod"], "primary_schema": "b2", "table_count": 15, "schema_count": 5}, "spatial_functions": ["ST_DISTANCE", "ST_CENTROID"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b2", "cim_vector", "b1", "public", "bp1"], "tables": ["cim_vector.cim_wizard_building", "cim_vector.cim_wizard_building_properties", "b1.building_id", "b1.building_geometry", "bp1.building_id", "bp1.project_id", "bp1.scenario_id", "bp1.height", "public.ST_Centroid", "public.ST_Distance", "b2.building_geometry", "bp1.type", "b2.building_id", "bp1.lod", "b1.lod"], "columns": [], "functions": ["ST_Centroid", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find 10 nearest buildings to building 0098d25a-d0b1-4081-ba67-ae9112bbbf95 within 5000 meters in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf, using centroid distance and showing distance ascending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B7_nearest_buildings_var_17", "complexity_level": "B", "tags": ["building", "distance", "proximity", "nearest_neighbor"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "026e8641-2eec-4b1f-bcc8-145c6ce5cc38", "census_id": "0086830a-2510-4f23-926d-5d215729cc56", "voltage_kv": 0.4, "bus_id": "4", "census_zone": "12720001707", "srid": 32632, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 1000, "cluster_distance": 2000, "min_area": 181, "max_area": 3162, "min_height": 5, "max_height": 70, "min_people": 1, "max_people": 17, "year": 1991, "min_population": 100, "min_buildings": 5, "min_areas": 5, "cluster_count": 5, "min_cluster_size": 3, "min_points": 3, "lon": 10.773247, "lat": 40.58716, "limit": 100}, "generated_at": "2025-11-24T10:45:35.081669", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005247", "database_id": 1, "database_name": "cim_wizard", "question": "Find 10 nearest buildings to building 01b71fdb-8ac8-4cdf-be29-943872fda5b3 within 2000 meters in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, using centroid distance and showing distance ascending", "question_tone": "SPATIAL_SPECIFIC", "priority": 1, "sql_postgis": "SELECT b1.building_id,\n       bp1.type,\n       bp1.height,\n       public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) as distance_m\nFROM cim_vector.cim_wizard_building b1\nJOIN cim_vector.cim_wizard_building_properties bp1 ON b1.building_id = bp1.building_id AND b1.lod = bp1.lod\nCROSS JOIN cim_vector.cim_wizard_building b2\nWHERE bp1.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp1.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND b2.building_id = '01b71fdb-8ac8-4cdf-be29-943872fda5b3'\n  AND b1.building_id != b2.building_id\n  AND public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) < 2000LIMIT 10;", "sql_spatialite": "SELECT b1.building_id,\n       bp1.type,\n       bp1.height,\n       public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) as distance_m\nFROM cim_vector.cim_wizard_building b1\nJOIN cim_vector.cim_wizard_building_properties bp1 ON b1.building_id = bp1.building_id AND b1.lod = bp1.lod\nCROSS JOIN cim_vector.cim_wizard_building b2\nWHERE bp1.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp1.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND b2.building_id = '01b71fdb-8ac8-4cdf-be29-943872fda5b3'\n  AND b1.building_id != b2.building_id\n  AND public.ST_Distance(public.ST_Centroid(b1.building_geometry), public.ST_Centroid(b2.building_geometry)) < 2000\nORDER BY distance_m ASC\nLIMIT 10;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b2", "cim_vector", "b1", "public", "bp1"], "tables": ["cim_vector.cim_wizard_building", "cim_vector.cim_wizard_building_properties", "b1.building_id", "b1.building_geometry", "bp1.building_id", "bp1.project_id", "bp1.scenario_id", "bp1.height", "public.ST_Centroid", "public.ST_Distance", "b2.building_geometry", "bp1.type", "b2.building_id", "bp1.lod", "b1.lod"], "primary_schema": "b2", "table_count": 15, "schema_count": 5}, "spatial_functions": ["ST_DISTANCE", "ST_CENTROID"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b2", "cim_vector", "b1", "public", "bp1"], "tables": ["cim_vector.cim_wizard_building", "cim_vector.cim_wizard_building_properties", "b1.building_id", "b1.building_geometry", "bp1.building_id", "bp1.project_id", "bp1.scenario_id", "bp1.height", "public.ST_Centroid", "public.ST_Distance", "b2.building_geometry", "bp1.type", "b2.building_id", "bp1.lod", "b1.lod"], "columns": [], "functions": ["ST_Centroid", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find 10 nearest buildings to building 01b71fdb-8ac8-4cdf-be29-943872fda5b3 within 2000 meters in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, using centroid distance and showing distance ascending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B7_nearest_buildings_var_48", "complexity_level": "B", "tags": ["building", "distance", "proximity", "nearest_neighbor"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "01a0c47e-abb0-4327-9f30-f5f845b5defa", "census_id": "00c2d7d0-83a6-4f68-bb47-a3ece88124be", "voltage_kv": 20.0, "bus_id": "14", "census_zone": "10180000018", "srid": 32633, "overlap_threshold": 20, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 5000, "min_area": 427, "max_area": 4076, "min_height": 3, "max_height": 24, "min_people": 5, "max_people": 20, "year": 1990, "min_population": 1000, "min_buildings": 10, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 5, "min_points": 5, "lon": 9.299291, "lat": 44.035939, "limit": 50}, "generated_at": "2025-11-24T10:45:35.083840", "has_limit": true, "has_order_by": false, "limit_strategy": "ORDERED_ONLY"}
{"id": "cim_005416", "database_id": 1, "database_name": "cim_wizard", "question": "Find the closest active grid bus to building 0040217f-9865-4cab-9478-731e0c443a85 in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a by centroid distance", "question_tone": "DIRECT", "priority": 2, "sql_postgis": "SELECT gb.bus_id,\n       gb.name,\n       gb.voltage_kv,\n       public.ST_Distance(public.ST_Centroid(b.building_geometry), gb.geometry) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE b.building_id = '0040217f-9865-4cab-9478-731e0c443a85'\n  AND bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND gb.in_service = trueLIMIT 1;", "sql_spatialite": "SELECT gb.bus_id,\n       gb.name,\n       gb.voltage_kv,\n       public.ST_Distance(public.ST_Centroid(b.building_geometry), gb.geometry) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE b.building_id = '0040217f-9865-4cab-9478-731e0c443a85'\n  AND bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n  AND gb.in_service = true\nORDER BY distance_m ASC\nLIMIT 1;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "gb", "public", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "gb.bus_id", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_network.network_buses", "gb.name", "gb.geometry", "public.ST_Centroid", "public.ST_Distance", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "b", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_DISTANCE", "ST_CENTROID"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "gb", "public", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "gb.bus_id", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_network.network_buses", "gb.name", "gb.geometry", "public.ST_Centroid", "public.ST_Distance", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_Centroid", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find the closest active grid bus to building 0040217f-9865-4cab-9478-731e0c443a85 in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a by centroid distance", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B8_closest_grid_to_building_var_17", "complexity_level": "B", "tags": ["building", "grid", "distance", "nearest_neighbor"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "032a80f4-2c0b-4fc5-adb5-ef81072c4fcb", "census_id": "00b21ae4-2343-42ee-8c53-e12e4a96e409", "voltage_kv": 20.0, "bus_id": "9", "census_zone": "10240000037", "srid": 32632, "overlap_threshold": 50, "buffer_distance": 500, "max_distance": 2000, "cluster_distance": 2000, "min_area": 106, "max_area": 3893, "min_height": 9, "max_height": 23, "min_people": 5, "max_people": 15, "year": 1975, "min_population": 500, "min_buildings": 20, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 3, "min_points": 5, "lon": 9.399478, "lat": 36.862382, "limit": 25}, "generated_at": "2025-11-24T10:45:35.096835", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005502", "database_id": 1, "database_name": "cim_wizard", "question": "Find the closest active grid bus to building 010454b9-5b54-4208-90ce-41c2b181c852 in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 by centroid distance", "question_tone": "DIRECT", "priority": 2, "sql_postgis": "SELECT gb.bus_id,\n       gb.name,\n       gb.voltage_kv,\n       public.ST_Distance(public.ST_Centroid(b.building_geometry), gb.geometry) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE b.building_id = '010454b9-5b54-4208-90ce-41c2b181c852'\n  AND bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND gb.in_service = trueLIMIT 1;", "sql_spatialite": "SELECT gb.bus_id,\n       gb.name,\n       gb.voltage_kv,\n       public.ST_Distance(public.ST_Centroid(b.building_geometry), gb.geometry) as distance_m\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nCROSS JOIN cim_network.network_buses gb\nWHERE b.building_id = '010454b9-5b54-4208-90ce-41c2b181c852'\n  AND bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND gb.in_service = true\nORDER BY distance_m ASC\nLIMIT 1;", "sql_type": "MULTI_JOIN", "sql_taxonomy": {"operation_type": "MULTI_JOIN", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "cim_vector", "gb", "public", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "gb.bus_id", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_network.network_buses", "gb.name", "gb.geometry", "public.ST_Centroid", "public.ST_Distance", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "b", "table_count": 17, "schema_count": 6}, "spatial_functions": ["ST_DISTANCE", "ST_CENTROID"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "cim_vector", "gb", "public", "cim_network", "bp"], "tables": ["gb.voltage_kv", "cim_vector.cim_wizard_building", "gb.in_service", "gb.bus_id", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "cim_network.network_buses", "gb.name", "gb.geometry", "public.ST_Centroid", "public.ST_Distance", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_Centroid", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find the closest active grid bus to building 010454b9-5b54-4208-90ce-41c2b181c852 in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 by centroid distance", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B8_closest_grid_to_building_var_103", "complexity_level": "B", "tags": ["building", "grid", "distance", "nearest_neighbor"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "census_id": "0040217f-9865-4cab-9478-731e0c443a85", "voltage_kv": 20.0, "bus_id": "6", "census_zone": "12720001821", "srid": 32632, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 5000, "cluster_distance": 5000, "min_area": 409, "max_area": 3226, "min_height": 4, "max_height": 92, "min_people": 3, "max_people": 19, "year": 1975, "min_population": 500, "min_buildings": 5, "min_areas": 3, "cluster_count": 3, "min_cluster_size": 10, "min_points": 3, "lon": 16.487684, "lat": 36.628779, "limit": 100}, "generated_at": "2025-11-24T10:45:35.103379", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005639", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average elevation values and tile counts from DTM and DSM rasters", "question_tone": "ANALYTICAL", "priority": 2, "sql_postgis": "SELECT \n    'DTM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dtm\nUNION ALL\nSELECT \n    'DSM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dsm_sansalva;", "sql_spatialite": "SELECT \n    'DTM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dtm\nUNION ALL\nSELECT \n    'DSM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dsm_sansalva;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_raster"], "tables": ["public.ST_SummaryStats", "cim_raster.dtm", "cim_raster.dsm_sansalva"], "primary_schema": "public", "table_count": 3, "schema_count": 2}, "spatial_functions": ["ST_SUMMARYSTATS"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_raster"], "tables": ["public.ST_SummaryStats", "cim_raster.dtm", "cim_raster.dsm_sansalva"], "columns": [], "functions": ["ST_SummaryStats"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average elevation values and tile counts from DTM and DSM rasters", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B9_raster_average_elevation_var_40", "complexity_level": "B", "tags": ["raster", "statistics", "elevation", "analysis"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "census_id": "010454b9-5b54-4208-90ce-41c2b181c852", "voltage_kv": 132.0, "bus_id": "9", "census_zone": "12720002002", "srid": 3857, "overlap_threshold": 60, "buffer_distance": 100, "max_distance": 500, "cluster_distance": 2000, "min_area": 302, "max_area": 1937, "min_height": 7, "max_height": 48, "min_people": 1, "max_people": 11, "year": 1964, "min_population": 100, "min_buildings": 20, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 10, "min_points": 8, "lon": 9.987045, "lat": 41.290596, "limit": 25}, "generated_at": "2025-11-24T10:45:35.114287", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005655", "database_id": 1, "database_name": "cim_wizard", "question": "Calculate average elevation values and tile counts from DTM and DSM rasters", "question_tone": "ANALYTICAL", "priority": 2, "sql_postgis": "SELECT \n    'DTM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dtm\nUNION ALL\nSELECT \n    'DSM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dsm_sansalva;", "sql_spatialite": "SELECT \n    'DTM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dtm\nUNION ALL\nSELECT \n    'DSM' as raster_type,\n    AVG((public.ST_SummaryStats(rast)).mean) as avg_elevation,\n    COUNT(*) as tile_count\nFROM cim_raster.dsm_sansalva;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 0}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_raster"], "tables": ["public.ST_SummaryStats", "cim_raster.dtm", "cim_raster.dsm_sansalva"], "primary_schema": "public", "table_count": 3, "schema_count": 2}, "spatial_functions": ["ST_SUMMARYSTATS"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_raster"], "tables": ["public.ST_SummaryStats", "cim_raster.dtm", "cim_raster.dsm_sansalva"], "columns": [], "functions": ["ST_SummaryStats"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Calculate average elevation values and tile counts from DTM and DSM rasters", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_B9_raster_average_elevation_var_56", "complexity_level": "B", "tags": ["raster", "statistics", "elevation", "analysis"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "0047ba60-0b2f-4b72-878e-02fe589ed37f", "census_id": "036d2174-245d-4021-90e7-58d95ee6c577", "voltage_kv": 132.0, "bus_id": "1", "census_zone": "12720001946", "srid": 32633, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 2000, "min_area": 321, "max_area": 2148, "min_height": 10, "max_height": 80, "min_people": 5, "max_people": 6, "year": 1993, "min_population": 500, "min_buildings": 5, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 3, "min_points": 5, "lon": 15.729671, "lat": 38.212575, "limit": 25}, "generated_at": "2025-11-24T10:45:35.115111", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005806", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze building type distribution and height categories (high_rise > 20m, mid_rise > 10m, low_rise <= 10m) for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing count, average height, average footprint, and total residents, ordered by building count descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "WITH building_metrics AS (\n  SELECT b.building_id,\n         bp.type,\n         bp.height as declared_height,\n         public.ST_Area(b.building_geometry) as footprint_area,\n         bp.n_people,\n         bp.area as building_area,\n         CASE \n           WHEN bp.height > 20 THEN 'high_rise'\n           WHEN bp.height > 10 THEN 'mid_rise'\n           ELSE 'low_rise'\n         END as height_category\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n),\ntype_analysis AS (\n  SELECT type,\n         height_category,\n         COUNT(*) as building_count,\n         AVG(declared_height) as avg_height,\n         AVG(footprint_area) as avg_footprint,\n         SUM(n_people) as total_residents\n  FROM building_metrics\n  GROUP BY type, height_category\n)\nSELECT type, height_category, building_count, \n       ROUND((avg_height)::numeric, 2) as avg_height_m,\n       ROUND((avg_footprint)::numeric, 2) as avg_footprint_sqm,\n       total_residents\nFROM type_analysis\nORDER BY building_count DESC;", "sql_spatialite": "WITH building_metrics AS (\n  SELECT b.building_id,\n         bp.type,\n         bp.height as declared_height,\n         public.ST_Area(b.building_geometry) as footprint_area,\n         bp.n_people,\n         bp.area as building_area,\n         CASE \n           WHEN bp.height > 20 THEN 'high_rise'\n           WHEN bp.height > 10 THEN 'mid_rise'\n           ELSE 'low_rise'\n         END as height_category\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n),\ntype_analysis AS (\n  SELECT type,\n         height_category,\n         COUNT(*) as building_count,\n         AVG(declared_height) as avg_height,\n         AVG(footprint_area) as avg_footprint,\n         SUM(n_people) as total_residents\n  FROM building_metrics\n  GROUP BY type, height_category\n)\nSELECT type, height_category, building_count, \n       ROUND((avg_height)::numeric, 2) as avg_height_m,\n       ROUND((avg_footprint)::numeric, 2) as avg_footprint_sqm,\n       total_residents\nFROM type_analysis\nORDER BY building_count DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "primary_schema": "public", "table_count": 14, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze building type distribution and height categories (high_rise > 20m, mid_rise > 10m, low_rise <= 10m) for project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, showing count, average height, average footprint, and total residents, ordered by building count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C1_building_type_area_analysis_var_7", "complexity_level": "C", "tags": ["type_analysis", "advanced", "cte", "building", "height_analysis"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "02b81f56-6754-4a53-9fea-e93380f1242f", "census_id": "007a2247-cdcd-49d0-8d30-6d249f9a3124", "voltage_kv": 400.0, "bus_id": "5", "census_zone": "10180000029", "srid": 3857, "overlap_threshold": 40, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 1000, "min_area": 59, "max_area": 3504, "min_height": 3, "max_height": 91, "min_people": 2, "max_people": 12, "year": 2022, "min_population": 100, "min_buildings": 20, "min_areas": 3, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 16.955662, "lat": 43.544149, "limit": 100}, "generated_at": "2025-11-24T10:45:35.123424", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_005963", "database_id": 1, "database_name": "cim_wizard", "question": "Analyze building type distribution and height categories (high_rise > 20m, mid_rise > 10m, low_rise <= 10m) for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing count, average height, average footprint, and total residents, showing building count descending", "question_tone": "ANALYTICAL", "priority": 1, "sql_postgis": "WITH building_metrics AS (\n  SELECT b.building_id,\n         bp.type,\n         bp.height as declared_height,\n         public.ST_Area(b.building_geometry) as footprint_area,\n         bp.n_people,\n         bp.area as building_area,\n         CASE \n           WHEN bp.height > 20 THEN 'high_rise'\n           WHEN bp.height > 10 THEN 'mid_rise'\n           ELSE 'low_rise'\n         END as height_category\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n),\ntype_analysis AS (\n  SELECT type,\n         height_category,\n         COUNT(*) as building_count,\n         AVG(declared_height) as avg_height,\n         AVG(footprint_area) as avg_footprint,\n         SUM(n_people) as total_residents\n  FROM building_metrics\n  GROUP BY type, height_category\n)\nSELECT type, height_category, building_count, \n       ROUND((avg_height)::numeric, 2) as avg_height_m,\n       ROUND((avg_footprint)::numeric, 2) as avg_footprint_sqm,\n       total_residents\nFROM type_analysis\nORDER BY building_count DESC;", "sql_spatialite": "WITH building_metrics AS (\n  SELECT b.building_id,\n         bp.type,\n         bp.height as declared_height,\n         public.ST_Area(b.building_geometry) as footprint_area,\n         bp.n_people,\n         bp.area as building_area,\n         CASE \n           WHEN bp.height > 20 THEN 'high_rise'\n           WHEN bp.height > 10 THEN 'mid_rise'\n           ELSE 'low_rise'\n         END as height_category\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n),\ntype_analysis AS (\n  SELECT type,\n         height_category,\n         COUNT(*) as building_count,\n         AVG(declared_height) as avg_height,\n         AVG(footprint_area) as avg_footprint,\n         SUM(n_people) as total_residents\n  FROM building_metrics\n  GROUP BY type, height_category\n)\nSELECT type, height_category, building_count, \n       ROUND((avg_height)::numeric, 2) as avg_height_m,\n       ROUND((avg_footprint)::numeric, 2) as avg_footprint_sqm,\n       total_residents\nFROM type_analysis\nORDER BY building_count DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "primary_schema": "public", "table_count": 14, "schema_count": 4}, "spatial_functions": ["ST_AREA"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.scenario_id", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "bp.height", "bp.project_id", "bp.lod", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Analyze building type distribution and height categories (high_rise > 20m, mid_rise > 10m, low_rise <= 10m) for project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a, showing count, average height, average footprint, and total residents, showing building count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C1_building_type_area_analysis_var_164", "complexity_level": "C", "tags": ["type_analysis", "advanced", "cte", "building", "height_analysis"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "census_id": "00a42bee-c946-48fc-9603-fdf82979a7af", "voltage_kv": 0.4, "bus_id": "0", "census_zone": "10900000379", "srid": 3857, "overlap_threshold": 80, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 5000, "min_area": 305, "max_area": 2176, "min_height": 10, "max_height": 56, "min_people": 2, "max_people": 19, "year": 2005, "min_population": 1000, "min_buildings": 20, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 3, "min_points": 3, "lon": 10.122336, "lat": 44.105961, "limit": 100}, "generated_at": "2025-11-24T10:45:35.137318", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006174", "database_id": 1, "database_name": "cim_wizard", "question": "Perform DBSCAN spatial clustering on buildings by type in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 with epsilon 2000 meters and minimum 3 points, showing clusters with at least 3 buildings, showing total residents descending, limit to 25 results", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "WITH spatial_clusters AS (\n  SELECT b.building_id, bp.type, bp.n_people,\n         public.ST_ClusterDBSCAN(public.ST_Centroid(b.building_geometry), eps := 2000, minpoints := 3) \n         OVER (PARTITION BY bp.type) AS cluster_id\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n),\ncluster_stats AS (\n  SELECT cluster_id, type,\n         COUNT(*) AS building_count,\n         SUM(n_people) AS total_residents\n  FROM spatial_clusters\n  WHERE cluster_id IS NOT NULL\n  GROUP BY cluster_id, type\n  HAVING COUNT(*) >= 3\n)\nSELECT cluster_id, type, building_count, total_residents\nFROM cluster_statsLIMIT 25;", "sql_spatialite": "WITH spatial_clusters AS (\n  SELECT b.building_id, bp.type, bp.n_people,\n         public.ST_ClusterDBSCAN(public.ST_Centroid(b.building_geometry), eps := 2000, minpoints := 3) \n         OVER (PARTITION BY bp.type) AS cluster_id\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n),\ncluster_stats AS (\n  SELECT cluster_id, type,\n         COUNT(*) AS building_count,\n         SUM(n_people) AS total_residents\n  FROM spatial_clusters\n  WHERE cluster_id IS NOT NULL\n  GROUP BY cluster_id, type\n  HAVING COUNT(*) >= 3\n)\nSELECT cluster_id, type, building_count, total_residents\nFROM cluster_stats\nORDER BY total_residents DESC\nLIMIT 25;", "sql_type": "SPATIAL_CLUSTERING", "sql_taxonomy": {"operation_type": "SPATIAL_CLUSTERING", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": true, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "1", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 4}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.n_people", "bp.scenario_id", "b.building_geometry", "public.ST_ClusterDBSCAN", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Centroid", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "public", "table_count": 13, "schema_count": 4}, "spatial_functions": ["ST_CENTROID", "ST_CLUSTERDBSCAN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLUSTERDBSCAN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.n_people", "bp.scenario_id", "b.building_geometry", "public.ST_ClusterDBSCAN", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Centroid", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_ClusterDBSCAN", "ST_Centroid"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Perform DBSCAN spatial clustering on buildings by type in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 with epsilon 2000 meters and minimum 3 points, showing clusters with at least 3 buildings, showing total residents descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C2_building_clustering_var_175", "complexity_level": "C", "tags": ["advanced", "cte", "clustering", "building", "window_function"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "036a709d-07e7-412e-9c7a-5460f6820ed9", "census_id": "024447c1-1d36-4322-8be3-bc338c082a07", "voltage_kv": 132.0, "bus_id": "8", "census_zone": "12720002002", "srid": 32632, "overlap_threshold": 40, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 122, "max_area": 4633, "min_height": 5, "max_height": 95, "min_people": 2, "max_people": 15, "year": 1955, "min_population": 100, "min_buildings": 5, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 5, "min_points": 3, "lon": 17.136666, "lat": 45.701386, "limit": 50}, "generated_at": "2025-11-24T10:45:35.156189", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006179", "database_id": 1, "database_name": "cim_wizard", "question": "Perform DBSCAN spatial clustering on buildings by type in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 with epsilon 1000 meters and minimum 8 points, showing clusters with at least 5 buildings, showing total residents descending, limit to 25 results", "question_tone": "AGGREGATE", "priority": 1, "sql_postgis": "WITH spatial_clusters AS (\n  SELECT b.building_id, bp.type, bp.n_people,\n         public.ST_ClusterDBSCAN(public.ST_Centroid(b.building_geometry), eps := 1000, minpoints := 8) \n         OVER (PARTITION BY bp.type) AS cluster_id\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n),\ncluster_stats AS (\n  SELECT cluster_id, type,\n         COUNT(*) AS building_count,\n         SUM(n_people) AS total_residents\n  FROM spatial_clusters\n  WHERE cluster_id IS NOT NULL\n  GROUP BY cluster_id, type\n  HAVING COUNT(*) >= 5\n)\nSELECT cluster_id, type, building_count, total_residents\nFROM cluster_statsLIMIT 25;", "sql_spatialite": "WITH spatial_clusters AS (\n  SELECT b.building_id, bp.type, bp.n_people,\n         public.ST_ClusterDBSCAN(public.ST_Centroid(b.building_geometry), eps := 1000, minpoints := 8) \n         OVER (PARTITION BY bp.type) AS cluster_id\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n),\ncluster_stats AS (\n  SELECT cluster_id, type,\n         COUNT(*) AS building_count,\n         SUM(n_people) AS total_residents\n  FROM spatial_clusters\n  WHERE cluster_id IS NOT NULL\n  GROUP BY cluster_id, type\n  HAVING COUNT(*) >= 5\n)\nSELECT cluster_id, type, building_count, total_residents\nFROM cluster_stats\nORDER BY total_residents DESC\nLIMIT 25;", "sql_type": "SPATIAL_CLUSTERING", "sql_taxonomy": {"operation_type": "SPATIAL_CLUSTERING", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": true, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "2", "join_count": "1", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 4}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.n_people", "bp.scenario_id", "b.building_geometry", "public.ST_ClusterDBSCAN", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Centroid", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "public", "table_count": 13, "schema_count": 4}, "spatial_functions": ["ST_CENTROID", "ST_CLUSTERDBSCAN"], "spatial_function_count": 2, "spatial_function_details": [{"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLUSTERDBSCAN", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["public", "cim_vector", "bp", "b"], "tables": ["cim_vector.cim_wizard_building", "bp.n_people", "bp.scenario_id", "b.building_geometry", "public.ST_ClusterDBSCAN", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "bp.type", "public.ST_Centroid", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_ClusterDBSCAN", "ST_Centroid"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Perform DBSCAN spatial clustering on buildings by type in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 with epsilon 1000 meters and minimum 8 points, showing clusters with at least 5 buildings, showing total residents descending, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C2_building_clustering_var_180", "complexity_level": "C", "tags": ["advanced", "cte", "clustering", "building", "window_function"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "007a2247-cdcd-49d0-8d30-6d249f9a3124", "census_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "voltage_kv": 400.0, "bus_id": "8", "census_zone": "12720001821", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 326, "max_area": 2412, "min_height": 4, "max_height": 85, "min_people": 3, "max_people": 11, "year": 1975, "min_population": 100, "min_buildings": 20, "min_areas": 5, "cluster_count": 10, "min_cluster_size": 3, "min_points": 8, "lon": 10.19345, "lat": 46.534803, "limit": 25}, "generated_at": "2025-11-24T10:45:35.156563", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006271", "database_id": 1, "database_name": "cim_wizard", "question": "Comprehensive multi-schema analysis integrating buildings from project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a with census data (requiring > 50% overlap) and grid infrastructure, grouped by building type, showing only groups with at least 20 buildings, showing building count descending", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_census_overlay AS (\n  SELECT b.building_id, bp.type, bp.height, bp.area, bp.n_people,\n         c.sez2011, c.p1 as census_population,\n         public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) as overlap_ratio\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(b.building_geometry, c.geometry)\n  WHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n    AND public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) > 0.5\n),\ngrid_proximity AS (\n  SELECT bco.building_id, bco.type, bco.height,\n         MIN(public.ST_Distance(b.building_geometry, gb.geometry)) as min_grid_distance\n  FROM building_census_overlay bco\n  JOIN cim_vector.cim_wizard_building b ON bco.building_id = b.building_id\n  CROSS JOIN cim_network.network_buses gb\n  WHERE gb.in_service = true\n  GROUP BY bco.building_id, bco.type, bco.height\n)\nSELECT type,\n       COUNT(*) as building_count,\n       AVG(height) as avg_height,\n       AVG(min_grid_distance) as avg_grid_distance\nFROM grid_proximity\nGROUP BY type\nHAVING COUNT(*) >= 20\nORDER BY building_count DESC;", "sql_spatialite": "WITH building_census_overlay AS (\n  SELECT b.building_id, bp.type, bp.height, bp.area, bp.n_people,\n         c.sez2011, c.p1 as census_population,\n         public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) as overlap_ratio\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(b.building_geometry, c.geometry)\n  WHERE bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a' AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n    AND public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) > 0.5\n),\ngrid_proximity AS (\n  SELECT bco.building_id, bco.type, bco.height,\n         MIN(public.ST_Distance(b.building_geometry, gb.geometry)) as min_grid_distance\n  FROM building_census_overlay bco\n  JOIN cim_vector.cim_wizard_building b ON bco.building_id = b.building_id\n  CROSS JOIN cim_network.network_buses gb\n  WHERE gb.in_service = true\n  GROUP BY bco.building_id, bco.type, bco.height\n)\nSELECT type,\n       COUNT(*) as building_count,\n       AVG(height) as avg_height,\n       AVG(min_grid_distance) as avg_grid_distance\nFROM grid_proximity\nGROUP BY type\nHAVING COUNT(*) >= 20\nORDER BY building_count DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "c", "cim_vector", "bco", "gb", "public", "0", "cim_network", "bp"], "tables": ["bp.type", "bco.type", "cim_census.censusgeo", "c.sez2011", "c.p1", "bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.building_id", "0.5", "gb.geometry", "bp.project_id", "bco.building_id", "b.building_geometry", "cim_network.network_buses", "bp.lod", "gb.in_service", "bp.scenario_id", "bco.height", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Intersection", "c.geometry", "bp.height", "public.ST_Distance", "b.building_id", "public.ST_Area"], "primary_schema": "cim_census", "table_count": 28, "schema_count": 10}, "spatial_functions": ["ST_INTERSECTS", "ST_DISTANCE", "ST_INTERSECTION", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "c", "cim_vector", "bco", "gb", "public", "0", "cim_network", "bp"], "tables": ["bp.type", "bco.type", "cim_census.censusgeo", "c.sez2011", "c.p1", "bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.building_id", "0.5", "gb.geometry", "bp.project_id", "bco.building_id", "b.building_geometry", "cim_network.network_buses", "bp.lod", "gb.in_service", "bp.scenario_id", "bco.height", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Intersection", "c.geometry", "bp.height", "public.ST_Distance", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Intersection", "ST_Intersects", "ST_Area", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Comprehensive multi-schema analysis integrating buildings from project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a with census data (requiring > 50% overlap) and grid infrastructure, grouped by building type, showing only groups with at least 20 buildings, showing building count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C3_multi_schema_integration_var_72", "complexity_level": "C", "tags": ["advanced", "grid", "cte", "spatial_join", "building", "multi_schema", "census"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "02cb3c45-a390-4cdb-ad56-b4d4bc31568c", "census_id": "00f14319-532d-4ee5-b45a-32cf19d26a73", "voltage_kv": 20.0, "bus_id": "13", "census_zone": "12720000215", "srid": 32632, "overlap_threshold": 30, "buffer_distance": 2000, "max_distance": 500, "cluster_distance": 2000, "min_area": 440, "max_area": 3302, "min_height": 3, "max_height": 27, "min_people": 3, "max_people": 12, "year": 2015, "min_population": 1000, "min_buildings": 20, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 16.212054, "lat": 41.449718, "limit": 100}, "generated_at": "2025-11-24T10:45:35.165940", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006287", "database_id": 1, "database_name": "cim_wizard", "question": "Comprehensive multi-schema analysis integrating buildings from project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf with census data (requiring > 50% overlap) and grid infrastructure, grouped by building type, showing only groups with at least 5 buildings, showing building count descending", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_census_overlay AS (\n  SELECT b.building_id, bp.type, bp.height, bp.area, bp.n_people,\n         c.sez2011, c.p1 as census_population,\n         public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) as overlap_ratio\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(b.building_geometry, c.geometry)\n  WHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n    AND public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) > 0.5\n),\ngrid_proximity AS (\n  SELECT bco.building_id, bco.type, bco.height,\n         MIN(public.ST_Distance(b.building_geometry, gb.geometry)) as min_grid_distance\n  FROM building_census_overlay bco\n  JOIN cim_vector.cim_wizard_building b ON bco.building_id = b.building_id\n  CROSS JOIN cim_network.network_buses gb\n  WHERE gb.in_service = true\n  GROUP BY bco.building_id, bco.type, bco.height\n)\nSELECT type,\n       COUNT(*) as building_count,\n       AVG(height) as avg_height,\n       AVG(min_grid_distance) as avg_grid_distance\nFROM grid_proximity\nGROUP BY type\nHAVING COUNT(*) >= 5\nORDER BY building_count DESC;", "sql_spatialite": "WITH building_census_overlay AS (\n  SELECT b.building_id, bp.type, bp.height, bp.area, bp.n_people,\n         c.sez2011, c.p1 as census_population,\n         public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) as overlap_ratio\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(b.building_geometry, c.geometry)\n  WHERE bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf' AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n    AND public.ST_Area(public.ST_Intersection(b.building_geometry, c.geometry)) / public.ST_Area(b.building_geometry) > 0.5\n),\ngrid_proximity AS (\n  SELECT bco.building_id, bco.type, bco.height,\n         MIN(public.ST_Distance(b.building_geometry, gb.geometry)) as min_grid_distance\n  FROM building_census_overlay bco\n  JOIN cim_vector.cim_wizard_building b ON bco.building_id = b.building_id\n  CROSS JOIN cim_network.network_buses gb\n  WHERE gb.in_service = true\n  GROUP BY bco.building_id, bco.type, bco.height\n)\nSELECT type,\n       COUNT(*) as building_count,\n       AVG(height) as avg_height,\n       AVG(min_grid_distance) as avg_grid_distance\nFROM grid_proximity\nGROUP BY type\nHAVING COUNT(*) >= 5\nORDER BY building_count DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "b", "c", "cim_vector", "bco", "gb", "public", "0", "cim_network", "bp"], "tables": ["bp.type", "bco.type", "cim_census.censusgeo", "c.sez2011", "c.p1", "bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.building_id", "0.5", "gb.geometry", "bp.project_id", "bco.building_id", "b.building_geometry", "cim_network.network_buses", "bp.lod", "gb.in_service", "bp.scenario_id", "bco.height", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Intersection", "c.geometry", "bp.height", "public.ST_Distance", "b.building_id", "public.ST_Area"], "primary_schema": "cim_census", "table_count": 28, "schema_count": 10}, "spatial_functions": ["ST_INTERSECTS", "ST_DISTANCE", "ST_INTERSECTION", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_DISTANCE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "b", "c", "cim_vector", "bco", "gb", "public", "0", "cim_network", "bp"], "tables": ["bp.type", "bco.type", "cim_census.censusgeo", "c.sez2011", "c.p1", "bp.area", "bp.n_people", "cim_vector.cim_wizard_building", "bp.building_id", "0.5", "gb.geometry", "bp.project_id", "bco.building_id", "b.building_geometry", "cim_network.network_buses", "bp.lod", "gb.in_service", "bp.scenario_id", "bco.height", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Intersection", "c.geometry", "bp.height", "public.ST_Distance", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Intersection", "ST_Intersects", "ST_Area", "ST_Distance"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Comprehensive multi-schema analysis integrating buildings from project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf with census data (requiring > 50% overlap) and grid infrastructure, grouped by building type, showing only groups with at least 5 buildings, showing building count descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C3_multi_schema_integration_var_88", "complexity_level": "C", "tags": ["advanced", "grid", "cte", "spatial_join", "building", "multi_schema", "census"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "02cb3c45-a390-4cdb-ad56-b4d4bc31568c", "census_id": "01a94fd3-07e3-4ada-8014-9d7bd68a4a97", "voltage_kv": 400.0, "bus_id": "7", "census_zone": "12720001946", "srid": 4326, "overlap_threshold": 10, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 2000, "min_area": 471, "max_area": 4786, "min_height": 10, "max_height": 99, "min_people": 2, "max_people": 16, "year": 1980, "min_population": 1000, "min_buildings": 20, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 10, "min_points": 8, "lon": 8.959162, "lat": 40.79016, "limit": 50}, "generated_at": "2025-11-24T10:45:35.167643", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006486", "database_id": 1, "database_name": "cim_wizard", "question": "Extract DTM and DSM raster elevation values at centroids of non-residential buildings in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 50 results", "question_tone": "INTERROGATIVE", "priority": 2, "sql_postgis": "SELECT b.building_id,\n       bp.type,\n       bp.height as declared_height,\n       public.ST_Value(dtm.rast, public.ST_Centroid(b.building_geometry)) as ground_elevation,\n       public.ST_Value(dsm.rast, public.ST_Centroid(b.building_geometry)) as surface_elevation,\n       public.ST_Area(b.building_geometry) as footprint_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, b.building_geometry)\nJOIN cim_raster.dsm_sansalva dsm ON public.ST_Intersects(dsm.rast, b.building_geometry)\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' \n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.type = 'non-residential';", "sql_spatialite": "SELECT b.building_id,\n       bp.type,\n       bp.height as declared_height,\n       public.ST_Value(dtm.rast, public.ST_Centroid(b.building_geometry)) as ground_elevation,\n       public.ST_Value(dsm.rast, public.ST_Centroid(b.building_geometry)) as surface_elevation,\n       public.ST_Area(b.building_geometry) as footprint_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, b.building_geometry)\nJOIN cim_raster.dsm_sansalva dsm ON public.ST_Intersects(dsm.rast, b.building_geometry)\nWHERE bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433' \n  AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n  AND bp.type = 'non-residential'\nLIMIT 50;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "dtm", "dsm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bp.type", "cim_vector.cim_wizard_building", "bp.building_id", "cim_raster.dsm_sansalva", "bp.project_id", "b.building_geometry", "public.ST_Centroid", "bp.lod", "bp.scenario_id", "cim_raster.dtm", "dtm.rast", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Value", "bp.height", "dsm.rast", "b.building_id", "public.ST_Area"], "primary_schema": "b", "table_count": 19, "schema_count": 7}, "spatial_functions": ["ST_INTERSECTS", "ST_VALUE", "ST_CENTROID", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_VALUE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "dtm", "dsm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bp.type", "cim_vector.cim_wizard_building", "bp.building_id", "cim_raster.dsm_sansalva", "bp.project_id", "b.building_geometry", "public.ST_Centroid", "bp.lod", "bp.scenario_id", "cim_raster.dtm", "dtm.rast", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Value", "bp.height", "dsm.rast", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Value", "ST_Centroid", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Extract DTM and DSM raster elevation values at centroids of non-residential buildings in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433, limit to 50 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C4_raster_value_extraction_var_87", "complexity_level": "C", "tags": ["raster", "advanced", "building", "raster_vector", "multi_join"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "00e03e68-75cd-4e76-990e-a5295c721e2e", "census_id": "00b01e23-3003-4864-a2f4-28e2efaf6d4b", "voltage_kv": 0.4, "bus_id": "4", "census_zone": "12720001707", "srid": 3857, "overlap_threshold": 70, "buffer_distance": 2000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 406, "max_area": 3427, "min_height": 9, "max_height": 23, "min_people": 1, "max_people": 17, "year": 2015, "min_population": 1000, "min_buildings": 20, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 5, "min_points": 8, "lon": 14.867179, "lat": 41.476489, "limit": 50}, "generated_at": "2025-11-24T10:45:35.187504", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006595", "database_id": 1, "database_name": "cim_wizard", "question": "Extract DTM and DSM raster elevation values at centroids of non-residential buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, limit to 25 results", "question_tone": "INTERROGATIVE", "priority": 2, "sql_postgis": "SELECT b.building_id,\n       bp.type,\n       bp.height as declared_height,\n       public.ST_Value(dtm.rast, public.ST_Centroid(b.building_geometry)) as ground_elevation,\n       public.ST_Value(dsm.rast, public.ST_Centroid(b.building_geometry)) as surface_elevation,\n       public.ST_Area(b.building_geometry) as footprint_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, b.building_geometry)\nJOIN cim_raster.dsm_sansalva dsm ON public.ST_Intersects(dsm.rast, b.building_geometry)\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.type = 'non-residential';", "sql_spatialite": "SELECT b.building_id,\n       bp.type,\n       bp.height as declared_height,\n       public.ST_Value(dtm.rast, public.ST_Centroid(b.building_geometry)) as ground_elevation,\n       public.ST_Value(dsm.rast, public.ST_Centroid(b.building_geometry)) as surface_elevation,\n       public.ST_Area(b.building_geometry) as footprint_area\nFROM cim_vector.cim_wizard_building b\nJOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, b.building_geometry)\nJOIN cim_raster.dsm_sansalva dsm ON public.ST_Intersects(dsm.rast, b.building_geometry)\nWHERE bp.project_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1' \n  AND bp.scenario_id = '4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1'\n  AND bp.type = 'non-residential'\nLIMIT 25;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": false, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["b", "dtm", "dsm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bp.type", "cim_vector.cim_wizard_building", "bp.building_id", "cim_raster.dsm_sansalva", "bp.project_id", "b.building_geometry", "public.ST_Centroid", "bp.lod", "bp.scenario_id", "cim_raster.dtm", "dtm.rast", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Value", "bp.height", "dsm.rast", "b.building_id", "public.ST_Area"], "primary_schema": "b", "table_count": 19, "schema_count": 7}, "spatial_functions": ["ST_INTERSECTS", "ST_VALUE", "ST_CENTROID", "ST_AREA"], "spatial_function_count": 4, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_VALUE", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CENTROID", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["b", "dtm", "dsm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bp.type", "cim_vector.cim_wizard_building", "bp.building_id", "cim_raster.dsm_sansalva", "bp.project_id", "b.building_geometry", "public.ST_Centroid", "bp.lod", "bp.scenario_id", "cim_raster.dtm", "dtm.rast", "cim_vector.cim_wizard_building_properties", "b.lod", "public.ST_Intersects", "public.ST_Value", "bp.height", "dsm.rast", "b.building_id", "public.ST_Area"], "columns": [], "functions": ["ST_Value", "ST_Centroid", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Extract DTM and DSM raster elevation values at centroids of non-residential buildings in project 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1 scenario 4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1, limit to 25 results", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C4_raster_value_extraction_var_196", "complexity_level": "C", "tags": ["raster", "advanced", "building", "raster_vector", "multi_join"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "0054c487-661b-493d-a819-e143b6c66e52", "census_id": "00887359-a93c-4b0c-8cb8-1535ae3ad1f7", "voltage_kv": 132.0, "bus_id": "3", "census_zone": "12720001637", "srid": 32633, "overlap_threshold": 30, "buffer_distance": 1000, "max_distance": 1000, "cluster_distance": 5000, "min_area": 195, "max_area": 4322, "min_height": 6, "max_height": 100, "min_people": 2, "max_people": 11, "year": 1975, "min_population": 500, "min_buildings": 10, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 3, "min_points": 5, "lon": 7.152986, "lat": 43.083202, "limit": 25}, "generated_at": "2025-11-24T10:45:35.198074", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006625", "database_id": 1, "database_name": "cim_wizard", "question": "Comprehensive demographic transition analysis with minimum population 500, classifying areas by aging ratio (elderly/youth) and education modernization (university graduates percentage), grouped by demographic stage, showing only groups with at least 3 areas, ordered by aging ratio descending", "question_tone": "CONDITIONAL", "priority": 3, "sql_postgis": "WITH demographic_indicators AS (\n  SELECT c.sez2011,\n         c.p1 as total_population,\n         (c.p14 + c.p15 + c.p16) as youth_0_14,\n         (c.p27 + c.p28 + c.p29) as elderly_65_plus,\n         c.pf3 as single_households,\n         c.p47 as university_graduates,\n         ROUND((((c.p27 + c.p28 + c.p29)::float / NULLIF((c.p14 + c.p15 + c.p16))::numeric, 0)), 2) as aging_ratio,\n         ROUND(((c.p47::float / NULLIF(c.p1)::numeric, 0)) * 100, 1) as education_modernization\n  FROM cim_census.censusgeo c\n  WHERE c.p1 >= 500\n),\ntransition_classification AS (\n  SELECT \"SEZ2011\",\n         aging_ratio, education_modernization,\n         CASE \n           WHEN aging_ratio > 1.5 AND education_modernization > 10 THEN 'POST_TRANSITION_ADVANCED'\n           WHEN aging_ratio > 1.0 THEN 'LATE_TRANSITION'\n           ELSE 'MID_TRANSITION'\n         END as demographic_stage\n  FROM demographic_indicators\n)\nSELECT demographic_stage,\n       COUNT(*) as areas_count,\n       AVG(aging_ratio) as avg_aging_ratio,\n       AVG(education_modernization) as avg_education_mod\nFROM transition_classification\nGROUP BY demographic_stage\nHAVING COUNT(*) >= 3\nORDER BY avg_aging_ratio DESC;", "sql_spatialite": "WITH demographic_indicators AS (\n  SELECT c.sez2011,\n         c.p1 as total_population,\n         (c.p14 + c.p15 + c.p16) as youth_0_14,\n         (c.p27 + c.p28 + c.p29) as elderly_65_plus,\n         c.pf3 as single_households,\n         c.p47 as university_graduates,\n         ROUND((((c.p27 + c.p28 + c.p29)::float / NULLIF((c.p14 + c.p15 + c.p16))::numeric, 0)), 2) as aging_ratio,\n         ROUND(((c.p47::float / NULLIF(c.p1)::numeric, 0)) * 100, 1) as education_modernization\n  FROM cim_census.censusgeo c\n  WHERE c.p1 >= 500\n),\ntransition_classification AS (\n  SELECT \"SEZ2011\",\n         aging_ratio, education_modernization,\n         CASE \n           WHEN aging_ratio > 1.5 AND education_modernization > 10 THEN 'POST_TRANSITION_ADVANCED'\n           WHEN aging_ratio > 1.0 THEN 'LATE_TRANSITION'\n           ELSE 'MID_TRANSITION'\n         END as demographic_stage\n  FROM demographic_indicators\n)\nSELECT demographic_stage,\n       COUNT(*) as areas_count,\n       AVG(aging_ratio) as avg_aging_ratio,\n       AVG(education_modernization) as avg_education_mod\nFROM transition_classification\nGROUP BY demographic_stage\nHAVING COUNT(*) >= 3\nORDER BY avg_aging_ratio DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["c", "cim_census", "1"], "tables": ["c.p1", "c.p27", "c.p15", "1.5", "1.0", "c.p28", "c.p14", "c.pf3", "c.p47", "cim_census.censusgeo", "c.p16", "c.p29", "c.sez2011"], "primary_schema": "c", "table_count": 13, "schema_count": 3}, "spatial_functions": ["ST_TRANSITION_ADVANCED"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_TRANSITION_ADVANCED", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census", "1"], "tables": ["c.p1", "c.p27", "c.p15", "1.5", "1.0", "c.p28", "c.p14", "c.pf3", "c.p47", "cim_census.censusgeo", "c.p16", "c.p29", "c.sez2011"], "columns": [], "functions": ["ST_TRANSITION_ADVANCED"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Comprehensive demographic transition analysis with minimum population 500, classifying areas by aging ratio (elderly/youth) and education modernization (university graduates percentage), grouped by demographic stage, showing only groups with at least 3 areas, ordered by aging ratio descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C5_census_demographic_transition_var_26", "complexity_level": "C", "tags": ["demographics", "statistical_analysis", "advanced", "cte", "census"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "0346fe08-1688-474e-81bf-ad26c1b79c42", "census_id": "00b21ae4-2343-42ee-8c53-e12e4a96e409", "voltage_kv": 132.0, "bus_id": "10", "census_zone": "12720002064", "srid": 32632, "overlap_threshold": 40, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 2000, "min_area": 321, "max_area": 2590, "min_height": 8, "max_height": 84, "min_people": 1, "max_people": 12, "year": 1950, "min_population": 1000, "min_buildings": 20, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 10, "min_points": 8, "lon": 13.155145, "lat": 43.031873, "limit": 25}, "generated_at": "2025-11-24T10:45:35.201749", "has_limit": false, "has_order_by": true, "limit_strategy": "TOP_N"}
{"id": "cim_006684", "database_id": 1, "database_name": "cim_wizard", "question": "Comprehensive demographic transition analysis with minimum population 100, classifying areas by aging ratio (elderly/youth) and education modernization (university graduates percentage), grouped by demographic stage, showing only groups with at least 5 areas, showing aging ratio descending", "question_tone": "CONDITIONAL", "priority": 3, "sql_postgis": "WITH demographic_indicators AS (\n  SELECT c.sez2011,\n         c.p1 as total_population,\n         (c.p14 + c.p15 + c.p16) as youth_0_14,\n         (c.p27 + c.p28 + c.p29) as elderly_65_plus,\n         c.pf3 as single_households,\n         c.p47 as university_graduates,\n         ROUND((((c.p27 + c.p28 + c.p29)::float / NULLIF((c.p14 + c.p15 + c.p16))::numeric, 0)), 2) as aging_ratio,\n         ROUND(((c.p47::float / NULLIF(c.p1)::numeric, 0)) * 100, 1) as education_modernization\n  FROM cim_census.censusgeo c\n  WHERE c.p1 >= 100\n),\ntransition_classification AS (\n  SELECT \"SEZ2011\",\n         aging_ratio, education_modernization,\n         CASE \n           WHEN aging_ratio > 1.5 AND education_modernization > 10 THEN 'POST_TRANSITION_ADVANCED'\n           WHEN aging_ratio > 1.0 THEN 'LATE_TRANSITION'\n           ELSE 'MID_TRANSITION'\n         END as demographic_stage\n  FROM demographic_indicators\n)\nSELECT demographic_stage,\n       COUNT(*) as areas_count,\n       AVG(aging_ratio) as avg_aging_ratio,\n       AVG(education_modernization) as avg_education_mod\nFROM transition_classification\nGROUP BY demographic_stage\nHAVING COUNT(*) >= 5\nORDER BY avg_aging_ratio DESC;", "sql_spatialite": "WITH demographic_indicators AS (\n  SELECT c.sez2011,\n         c.p1 as total_population,\n         (c.p14 + c.p15 + c.p16) as youth_0_14,\n         (c.p27 + c.p28 + c.p29) as elderly_65_plus,\n         c.pf3 as single_households,\n         c.p47 as university_graduates,\n         ROUND((((c.p27 + c.p28 + c.p29)::float / NULLIF((c.p14 + c.p15 + c.p16))::numeric, 0)), 2) as aging_ratio,\n         ROUND(((c.p47::float / NULLIF(c.p1)::numeric, 0)) * 100, 1) as education_modernization\n  FROM cim_census.censusgeo c\n  WHERE c.p1 >= 100\n),\ntransition_classification AS (\n  SELECT \"SEZ2011\",\n         aging_ratio, education_modernization,\n         CASE \n           WHEN aging_ratio > 1.5 AND education_modernization > 10 THEN 'POST_TRANSITION_ADVANCED'\n           WHEN aging_ratio > 1.0 THEN 'LATE_TRANSITION'\n           ELSE 'MID_TRANSITION'\n         END as demographic_stage\n  FROM demographic_indicators\n)\nSELECT demographic_stage,\n       COUNT(*) as areas_count,\n       AVG(aging_ratio) as avg_aging_ratio,\n       AVG(education_modernization) as avg_education_mod\nFROM transition_classification\nGROUP BY demographic_stage\nHAVING COUNT(*) >= 5\nORDER BY avg_aging_ratio DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "none"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "BASIC", "schema_complexity": "MULTI_SCHEMA", "function_count": "1", "join_count": "0", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 1}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["c", "cim_census", "1"], "tables": ["c.p1", "c.p27", "c.p15", "1.5", "1.0", "c.p28", "c.p14", "c.pf3", "c.p47", "cim_census.censusgeo", "c.p16", "c.p29", "c.sez2011"], "primary_schema": "c", "table_count": 13, "schema_count": 3}, "spatial_functions": ["ST_TRANSITION_ADVANCED"], "spatial_function_count": 1, "spatial_function_details": [{"name": "ST_TRANSITION_ADVANCED", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["c", "cim_census", "1"], "tables": ["c.p1", "c.p27", "c.p15", "1.5", "1.0", "c.p28", "c.p14", "c.pf3", "c.p47", "cim_census.censusgeo", "c.p16", "c.p29", "c.sez2011"], "columns": [], "functions": ["ST_TRANSITION_ADVANCED"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Comprehensive demographic transition analysis with minimum population 100, classifying areas by aging ratio (elderly/youth) and education modernization (university graduates percentage), grouped by demographic stage, showing only groups with at least 5 areas, showing aging ratio descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C5_census_demographic_transition_var_85", "complexity_level": "C", "tags": ["demographics", "statistical_analysis", "advanced", "cte", "census"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "00b21ae4-2343-42ee-8c53-e12e4a96e409", "census_id": "01764da2-a801-4dec-83bf-3a535fd083ab", "voltage_kv": 400.0, "bus_id": "4", "census_zone": "12720001946", "srid": 4326, "overlap_threshold": 20, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 5000, "min_area": 169, "max_area": 3544, "min_height": 8, "max_height": 98, "min_people": 5, "max_people": 10, "year": 2009, "min_population": 1000, "min_buildings": 20, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 3, "min_points": 8, "lon": 7.99142, "lat": 37.776429, "limit": 10}, "generated_at": "2025-11-24T10:45:35.207687", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006829", "database_id": 1, "database_name": "cim_wizard", "question": "Merge all census zones intersecting with project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 boundary to create unified census boundary, showing count of zones and total area", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "WITH project_census AS (\n  SELECT ps.project_id, ps.scenario_id, ps.project_name,\n         c.sez2011, c.geometry\n  FROM cim_vector.cim_wizard_project_scenario ps\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(ps.project_boundary, c.geometry)\n  WHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT project_id, scenario_id, project_name,\n       COUNT(DISTINCT \"SEZ2011\") as census_zones_count,\n       public.ST_Union(geometry) as merged_census_boundary,\n       public.ST_Area(public.ST_Union(geometry)) as total_area_sqm\nFROM project_census\nGROUP BY project_id, scenario_id, project_name;", "sql_spatialite": "WITH project_census AS (\n  SELECT ps.project_id, ps.scenario_id, ps.project_name,\n         c.sez2011, c.geometry\n  FROM cim_vector.cim_wizard_project_scenario ps\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(ps.project_boundary, c.geometry)\n  WHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT project_id, scenario_id, project_name,\n       COUNT(DISTINCT \"SEZ2011\") as census_zones_count,\n       public.ST_Union(geometry) as merged_census_boundary,\n       public.ST_Area(public.ST_Union(geometry)) as total_area_sqm\nFROM project_census\nGROUP BY project_id, scenario_id, project_name;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["public.ST_Union", "ps.project_id", "cim_census.censusgeo", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "ps.scenario_id", "c.sez2011", "public.ST_Area", "ps.project_name"], "primary_schema": "cim_census", "table_count": 11, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_UNION", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_UNION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["public.ST_Union", "ps.project_id", "cim_census.censusgeo", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "ps.scenario_id", "c.sez2011", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_Union", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Merge all census zones intersecting with project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 boundary to create unified census boundary, showing count of zones and total area", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C6_merge_census_zones_var_30", "complexity_level": "C", "tags": ["project", "aggregation", "advanced", "cte", "union", "census"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "03158862-3db7-4c34-a566-92e512c4b29b", "census_id": "00b272c0-0e93-4d53-a969-d768c3280dce", "voltage_kv": 400.0, "bus_id": "9", "census_zone": "12720001821", "srid": 4326, "overlap_threshold": 80, "buffer_distance": 1000, "max_distance": 5000, "cluster_distance": 2000, "min_area": 255, "max_area": 4369, "min_height": 6, "max_height": 44, "min_people": 4, "max_people": 16, "year": 2003, "min_population": 500, "min_buildings": 5, "min_areas": 3, "cluster_count": 10, "min_cluster_size": 5, "min_points": 3, "lon": 16.271985, "lat": 38.100594, "limit": 100}, "generated_at": "2025-11-24T10:45:35.220878", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006832", "database_id": 1, "database_name": "cim_wizard", "question": "Merge all census zones intersecting with project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a boundary to create unified census boundary, showing count of zones and total area", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "WITH project_census AS (\n  SELECT ps.project_id, ps.scenario_id, ps.project_name,\n         c.sez2011, c.geometry\n  FROM cim_vector.cim_wizard_project_scenario ps\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(ps.project_boundary, c.geometry)\n  WHERE ps.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n    AND ps.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n)\nSELECT project_id, scenario_id, project_name,\n       COUNT(DISTINCT \"SEZ2011\") as census_zones_count,\n       public.ST_Union(geometry) as merged_census_boundary,\n       public.ST_Area(public.ST_Union(geometry)) as total_area_sqm\nFROM project_census\nGROUP BY project_id, scenario_id, project_name;", "sql_spatialite": "WITH project_census AS (\n  SELECT ps.project_id, ps.scenario_id, ps.project_name,\n         c.sez2011, c.geometry\n  FROM cim_vector.cim_wizard_project_scenario ps\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(ps.project_boundary, c.geometry)\n  WHERE ps.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n    AND ps.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n)\nSELECT project_id, scenario_id, project_name,\n       COUNT(DISTINCT \"SEZ2011\") as census_zones_count,\n       public.ST_Union(geometry) as merged_census_boundary,\n       public.ST_Area(public.ST_Union(geometry)) as total_area_sqm\nFROM project_census\nGROUP BY project_id, scenario_id, project_name;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["public.ST_Union", "ps.project_id", "cim_census.censusgeo", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "ps.scenario_id", "c.sez2011", "public.ST_Area", "ps.project_name"], "primary_schema": "cim_census", "table_count": 11, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_UNION", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_UNION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["public.ST_Union", "ps.project_id", "cim_census.censusgeo", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "ps.scenario_id", "c.sez2011", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_Union", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Merge all census zones intersecting with project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a boundary to create unified census boundary, showing count of zones and total area", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C6_merge_census_zones_var_33", "complexity_level": "C", "tags": ["project", "aggregation", "advanced", "cte", "union", "census"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "02cb3c45-a390-4cdb-ad56-b4d4bc31568c", "census_id": "019d513c-9bea-4f34-89ac-91edd496f40c", "voltage_kv": 132.0, "bus_id": "3", "census_zone": "12720002002", "srid": 32632, "overlap_threshold": 30, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 5000, "min_area": 200, "max_area": 2913, "min_height": 3, "max_height": 60, "min_people": 2, "max_people": 18, "year": 2007, "min_population": 100, "min_buildings": 10, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 7.926225, "lat": 37.167234, "limit": 100}, "generated_at": "2025-11-24T10:45:35.221091", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_006859", "database_id": 1, "database_name": "cim_wizard", "question": "Merge all census zones intersecting with project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 boundary to create unified census boundary, showing count of zones and total area", "question_tone": "SPATIAL_SPECIFIC", "priority": 2, "sql_postgis": "WITH project_census AS (\n  SELECT ps.project_id, ps.scenario_id, ps.project_name,\n         c.sez2011, c.geometry\n  FROM cim_vector.cim_wizard_project_scenario ps\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(ps.project_boundary, c.geometry)\n  WHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT project_id, scenario_id, project_name,\n       COUNT(DISTINCT \"SEZ2011\") as census_zones_count,\n       public.ST_Union(geometry) as merged_census_boundary,\n       public.ST_Area(public.ST_Union(geometry)) as total_area_sqm\nFROM project_census\nGROUP BY project_id, scenario_id, project_name;", "sql_spatialite": "WITH project_census AS (\n  SELECT ps.project_id, ps.scenario_id, ps.project_name,\n         c.sez2011, c.geometry\n  FROM cim_vector.cim_wizard_project_scenario ps\n  JOIN cim_census.censusgeo c ON public.ST_Intersects(ps.project_boundary, c.geometry)\n  WHERE ps.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND ps.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT project_id, scenario_id, project_name,\n       COUNT(DISTINCT \"SEZ2011\") as census_zones_count,\n       public.ST_Union(geometry) as merged_census_boundary,\n       public.ST_Area(public.ST_Union(geometry)) as total_area_sqm\nFROM project_census\nGROUP BY project_id, scenario_id, project_name;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": true, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["public.ST_Union", "ps.project_id", "cim_census.censusgeo", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "ps.scenario_id", "c.sez2011", "public.ST_Area", "ps.project_name"], "primary_schema": "cim_census", "table_count": 11, "schema_count": 5}, "spatial_functions": ["ST_INTERSECTS", "ST_UNION", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_UNION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["cim_census", "c", "cim_vector", "public", "ps"], "tables": ["public.ST_Union", "ps.project_id", "cim_census.censusgeo", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "ps.project_boundary", "c.geometry", "ps.scenario_id", "c.sez2011", "public.ST_Area", "ps.project_name"], "columns": [], "functions": ["ST_Union", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Merge all census zones intersecting with project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 boundary to create unified census boundary, showing count of zones and total area", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C6_merge_census_zones_var_60", "complexity_level": "C", "tags": ["project", "aggregation", "advanced", "cte", "union", "census"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "non-residential", "building_id": "012d11ed-97f7-46a8-ad80-ed38320b3fa8", "census_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "voltage_kv": 0.4, "bus_id": "10", "census_zone": "12720001821", "srid": 4326, "overlap_threshold": 70, "buffer_distance": 500, "max_distance": 500, "cluster_distance": 2000, "min_area": 134, "max_area": 1889, "min_height": 6, "max_height": 49, "min_people": 5, "max_people": 10, "year": 2020, "min_population": 1000, "min_buildings": 5, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 7.384806, "lat": 42.912896, "limit": 25}, "generated_at": "2025-11-24T10:45:35.222948", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007003", "database_id": 1, "database_name": "cim_wizard", "question": "Find project pairs with land coverage overlap of at least 20 percent, showing overlap area and percentage, showing overlap percentage descending", "question_tone": "DIRECT", "priority": 3, "sql_postgis": "WITH project_overlaps AS (\n  SELECT p1.project_id as project1_id,\n         p1.project_name as project1_name,\n         p2.project_id as project2_id,\n         p2.project_name as project2_name,\n         public.ST_Area(p1.project_boundary) as project1_area,\n         public.ST_Area(public.ST_Intersection(p1.project_boundary, p2.project_boundary)) as overlap_area\n  FROM cim_vector.cim_wizard_project_scenario p1\n  CROSS JOIN cim_vector.cim_wizard_project_scenario p2\n  WHERE p1.project_id < p2.project_id\n    AND public.ST_Intersects(p1.project_boundary, p2.project_boundary)\n),\noverlap_percentages AS (\n  SELECT project1_id, project1_name,\n         project2_id, project2_name,\n         overlap_area,\n         ROUND(((overlap_area / NULLIF(project1_area)::numeric, 0)) * 100, 2) as overlap_percentage\n  FROM project_overlaps\n)\nSELECT project1_id, project1_name,\n       project2_id, project2_name,\n       overlap_area as overlap_sqm,\n       overlap_percentage\nFROM overlap_percentages\nWHERE overlap_percentage >= 20\nORDER BY overlap_percentage DESC;", "sql_spatialite": "WITH project_overlaps AS (\n  SELECT p1.project_id as project1_id,\n         p1.project_name as project1_name,\n         p2.project_id as project2_id,\n         p2.project_name as project2_name,\n         public.ST_Area(p1.project_boundary) as project1_area,\n         public.ST_Area(public.ST_Intersection(p1.project_boundary, p2.project_boundary)) as overlap_area\n  FROM cim_vector.cim_wizard_project_scenario p1\n  CROSS JOIN cim_vector.cim_wizard_project_scenario p2\n  WHERE p1.project_id < p2.project_id\n    AND public.ST_Intersects(p1.project_boundary, p2.project_boundary)\n),\noverlap_percentages AS (\n  SELECT project1_id, project1_name,\n         project2_id, project2_name,\n         overlap_area,\n         ROUND(((overlap_area / NULLIF(project1_area)::numeric, 0)) * 100, 2) as overlap_percentage\n  FROM project_overlaps\n)\nSELECT project1_id, project1_name,\n       project2_id, project2_name,\n       overlap_area as overlap_sqm,\n       overlap_percentage\nFROM overlap_percentages\nWHERE overlap_percentage >= 20\nORDER BY overlap_percentage DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["p2", "public", "cim_vector", "p1"], "tables": ["p2.project_boundary", "p1.project_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "public.ST_Intersection", "p2.project_id", "p2.project_name", "p1.project_boundary", "p1.project_name", "public.ST_Area"], "primary_schema": "p2", "table_count": 10, "schema_count": 4}, "spatial_functions": ["ST_INTERSECTS", "ST_INTERSECTION", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["p2", "public", "cim_vector", "p1"], "tables": ["p2.project_boundary", "p1.project_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "public.ST_Intersection", "p2.project_id", "p2.project_name", "p1.project_boundary", "p1.project_name", "public.ST_Area"], "columns": [], "functions": ["ST_Intersection", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find project pairs with land coverage overlap of at least 20 percent, showing overlap area and percentage, showing overlap percentage descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C7_overlapping_projects_var_4", "complexity_level": "C", "tags": ["project", "overlap", "intersection", "advanced", "percentage", "cte"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "residential", "building_id": "012e9e8b-90af-45c6-a617-63df7bfaa464", "census_id": "00b21ae4-2343-42ee-8c53-e12e4a96e409", "voltage_kv": 132.0, "bus_id": "12", "census_zone": "12720001884", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 1000, "max_distance": 2000, "cluster_distance": 1000, "min_area": 333, "max_area": 4613, "min_height": 7, "max_height": 51, "min_people": 5, "max_people": 6, "year": 1952, "min_population": 1000, "min_buildings": 20, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 3, "min_points": 8, "lon": 10.482821, "lat": 37.156236, "limit": 50}, "generated_at": "2025-11-24T10:45:35.232972", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007114", "database_id": 1, "database_name": "cim_wizard", "question": "Find project pairs with land coverage overlap of at least 80 percent, showing overlap area and percentage, showing overlap percentage descending", "question_tone": "DIRECT", "priority": 3, "sql_postgis": "WITH project_overlaps AS (\n  SELECT p1.project_id as project1_id,\n         p1.project_name as project1_name,\n         p2.project_id as project2_id,\n         p2.project_name as project2_name,\n         public.ST_Area(p1.project_boundary) as project1_area,\n         public.ST_Area(public.ST_Intersection(p1.project_boundary, p2.project_boundary)) as overlap_area\n  FROM cim_vector.cim_wizard_project_scenario p1\n  CROSS JOIN cim_vector.cim_wizard_project_scenario p2\n  WHERE p1.project_id < p2.project_id\n    AND public.ST_Intersects(p1.project_boundary, p2.project_boundary)\n),\noverlap_percentages AS (\n  SELECT project1_id, project1_name,\n         project2_id, project2_name,\n         overlap_area,\n         ROUND(((overlap_area / NULLIF(project1_area)::numeric, 0)) * 100, 2) as overlap_percentage\n  FROM project_overlaps\n)\nSELECT project1_id, project1_name,\n       project2_id, project2_name,\n       overlap_area as overlap_sqm,\n       overlap_percentage\nFROM overlap_percentages\nWHERE overlap_percentage >= 80\nORDER BY overlap_percentage DESC;", "sql_spatialite": "WITH project_overlaps AS (\n  SELECT p1.project_id as project1_id,\n         p1.project_name as project1_name,\n         p2.project_id as project2_id,\n         p2.project_name as project2_name,\n         public.ST_Area(p1.project_boundary) as project1_area,\n         public.ST_Area(public.ST_Intersection(p1.project_boundary, p2.project_boundary)) as overlap_area\n  FROM cim_vector.cim_wizard_project_scenario p1\n  CROSS JOIN cim_vector.cim_wizard_project_scenario p2\n  WHERE p1.project_id < p2.project_id\n    AND public.ST_Intersects(p1.project_boundary, p2.project_boundary)\n),\noverlap_percentages AS (\n  SELECT project1_id, project1_name,\n         project2_id, project2_name,\n         overlap_area,\n         ROUND(((overlap_area / NULLIF(project1_area)::numeric, 0)) * 100, 2) as overlap_percentage\n  FROM project_overlaps\n)\nSELECT project1_id, project1_name,\n       project2_id, project2_name,\n       overlap_area as overlap_sqm,\n       overlap_percentage\nFROM overlap_percentages\nWHERE overlap_percentage >= 80\nORDER BY overlap_percentage DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["p2", "public", "cim_vector", "p1"], "tables": ["p2.project_boundary", "p1.project_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "public.ST_Intersection", "p2.project_id", "p2.project_name", "p1.project_boundary", "p1.project_name", "public.ST_Area"], "primary_schema": "p2", "table_count": 10, "schema_count": 4}, "spatial_functions": ["ST_INTERSECTS", "ST_INTERSECTION", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["p2", "public", "cim_vector", "p1"], "tables": ["p2.project_boundary", "p1.project_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "public.ST_Intersection", "p2.project_id", "p2.project_name", "p1.project_boundary", "p1.project_name", "public.ST_Area"], "columns": [], "functions": ["ST_Intersection", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find project pairs with land coverage overlap of at least 80 percent, showing overlap area and percentage, showing overlap percentage descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C7_overlapping_projects_var_115", "complexity_level": "C", "tags": ["project", "overlap", "intersection", "advanced", "percentage", "cte"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "residential", "building_id": "0054c487-661b-493d-a819-e143b6c66e52", "census_id": "036a709d-07e7-412e-9c7a-5460f6820ed9", "voltage_kv": 400.0, "bus_id": "10", "census_zone": "12720001821", "srid": 32633, "overlap_threshold": 40, "buffer_distance": 2000, "max_distance": 500, "cluster_distance": 1000, "min_area": 390, "max_area": 4640, "min_height": 9, "max_height": 47, "min_people": 5, "max_people": 15, "year": 1985, "min_population": 1000, "min_buildings": 20, "min_areas": 10, "cluster_count": 8, "min_cluster_size": 5, "min_points": 5, "lon": 7.643929, "lat": 39.306106, "limit": 50}, "generated_at": "2025-11-24T10:45:35.244480", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007177", "database_id": 1, "database_name": "cim_wizard", "question": "Find project pairs with land coverage overlap of at least 10 percent, showing overlap area and percentage, showing overlap percentage descending", "question_tone": "DIRECT", "priority": 3, "sql_postgis": "WITH project_overlaps AS (\n  SELECT p1.project_id as project1_id,\n         p1.project_name as project1_name,\n         p2.project_id as project2_id,\n         p2.project_name as project2_name,\n         public.ST_Area(p1.project_boundary) as project1_area,\n         public.ST_Area(public.ST_Intersection(p1.project_boundary, p2.project_boundary)) as overlap_area\n  FROM cim_vector.cim_wizard_project_scenario p1\n  CROSS JOIN cim_vector.cim_wizard_project_scenario p2\n  WHERE p1.project_id < p2.project_id\n    AND public.ST_Intersects(p1.project_boundary, p2.project_boundary)\n),\noverlap_percentages AS (\n  SELECT project1_id, project1_name,\n         project2_id, project2_name,\n         overlap_area,\n         ROUND(((overlap_area / NULLIF(project1_area)::numeric, 0)) * 100, 2) as overlap_percentage\n  FROM project_overlaps\n)\nSELECT project1_id, project1_name,\n       project2_id, project2_name,\n       overlap_area as overlap_sqm,\n       overlap_percentage\nFROM overlap_percentages\nWHERE overlap_percentage >= 10\nORDER BY overlap_percentage DESC;", "sql_spatialite": "WITH project_overlaps AS (\n  SELECT p1.project_id as project1_id,\n         p1.project_name as project1_name,\n         p2.project_id as project2_id,\n         p2.project_name as project2_name,\n         public.ST_Area(p1.project_boundary) as project1_area,\n         public.ST_Area(public.ST_Intersection(p1.project_boundary, p2.project_boundary)) as overlap_area\n  FROM cim_vector.cim_wizard_project_scenario p1\n  CROSS JOIN cim_vector.cim_wizard_project_scenario p2\n  WHERE p1.project_id < p2.project_id\n    AND public.ST_Intersects(p1.project_boundary, p2.project_boundary)\n),\noverlap_percentages AS (\n  SELECT project1_id, project1_name,\n         project2_id, project2_name,\n         overlap_area,\n         ROUND(((overlap_area / NULLIF(project1_area)::numeric, 0)) * 100, 2) as overlap_percentage\n  FROM project_overlaps\n)\nSELECT project1_id, project1_name,\n       project2_id, project2_name,\n       overlap_area as overlap_sqm,\n       overlap_percentage\nFROM overlap_percentages\nWHERE overlap_percentage >= 10\nORDER BY overlap_percentage DESC;", "sql_type": "NESTED_QUERY", "sql_taxonomy": {"operation_type": "NESTED_QUERY", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "EASY", "spatial_complexity": "INTERMEDIATE", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "1", "overall_difficulty": "EASY", "complexity_level": "C", "complexity_score": 2}, "difficulty_level": "EASY", "usage_frequency": "frequent", "database_schema": {"schemas": ["p2", "public", "cim_vector", "p1"], "tables": ["p2.project_boundary", "p1.project_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "public.ST_Intersection", "p2.project_id", "p2.project_name", "p1.project_boundary", "p1.project_name", "public.ST_Area"], "primary_schema": "p2", "table_count": 10, "schema_count": 4}, "spatial_functions": ["ST_INTERSECTS", "ST_INTERSECTION", "ST_AREA"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTION", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_AREA", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["p2", "public", "cim_vector", "p1"], "tables": ["p2.project_boundary", "p1.project_id", "cim_vector.cim_wizard_project_scenario", "public.ST_Intersects", "public.ST_Intersection", "p2.project_id", "p2.project_name", "p1.project_boundary", "p1.project_name", "public.ST_Area"], "columns": [], "functions": ["ST_Intersection", "ST_Intersects", "ST_Area"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Find project pairs with land coverage overlap of at least 10 percent, showing overlap area and percentage, showing overlap percentage descending", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C7_overlapping_projects_var_178", "complexity_level": "C", "tags": ["project", "overlap", "intersection", "advanced", "percentage", "cte"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "non-residential", "building_id": "01ad56a4-5437-41a8-b09d-eff4007d794d", "census_id": "0216d44d-d352-4f12-bd16-79ba0f2dc167", "voltage_kv": 132.0, "bus_id": "15", "census_zone": "12720001946", "srid": 3857, "overlap_threshold": 40, "buffer_distance": 100, "max_distance": 2000, "cluster_distance": 2000, "min_area": 403, "max_area": 1686, "min_height": 7, "max_height": 75, "min_people": 1, "max_people": 20, "year": 1958, "min_population": 500, "min_buildings": 5, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 10, "min_points": 5, "lon": 16.936142, "lat": 36.789039, "limit": 100}, "generated_at": "2025-11-24T10:45:35.250092", "has_limit": false, "has_order_by": true, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007247", "database_id": 1, "database_name": "cim_wizard", "question": "Clip DTM raster by footprint of building 0033de25-d7d1-48d5-98c3-bc02973a13c0 in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 and extract average ground elevation statistics", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '0033de25-d7d1-48d5-98c3-bc02973a13c0'\n    AND bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry)\nLIMIT 1;", "sql_spatialite": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '0033de25-d7d1-48d5-98c3-bc02973a13c0'\n    AND bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry)\nLIMIT 1;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "bg", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_SUMMARYSTATS", "ST_INTERSECTS", "ST_CLIP"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLIP", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_SummaryStats", "ST_Clip", "ST_Intersects"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Clip DTM raster by footprint of building 0033de25-d7d1-48d5-98c3-bc02973a13c0 in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 and extract average ground elevation statistics", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C8_clip_raster_by_building_var_48", "complexity_level": "C", "tags": ["raster", "advanced", "cte", "clip", "building", "processing"], "generation_params": {"project_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "scenario_id": "4be7d1ff-e8bf-4374-a13e-67e7b0d52eb1", "project_name": "Sansalva_filter", "scenario_name": "baseline", "building_type": "non-residential", "building_id": "0033de25-d7d1-48d5-98c3-bc02973a13c0", "census_id": "0054c487-661b-493d-a819-e143b6c66e52", "voltage_kv": 400.0, "bus_id": "8", "census_zone": "11710000046", "srid": 3857, "overlap_threshold": 40, "buffer_distance": 2000, "max_distance": 1000, "cluster_distance": 5000, "min_area": 425, "max_area": 1206, "min_height": 6, "max_height": 39, "min_people": 5, "max_people": 19, "year": 1978, "min_population": 100, "min_buildings": 10, "min_areas": 3, "cluster_count": 5, "min_cluster_size": 10, "min_points": 3, "lon": 8.953471, "lat": 43.340162, "limit": 25}, "generated_at": "2025-11-24T10:45:35.256628", "has_limit": true, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007249", "database_id": 1, "database_name": "cim_wizard", "question": "Clip DTM raster by footprint of building 021d6573-e91d-409f-89f6-72a608238220 in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf and extract average ground elevation statistics", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '021d6573-e91d-409f-89f6-72a608238220'\n    AND bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n    AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry);", "sql_spatialite": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '021d6573-e91d-409f-89f6-72a608238220'\n    AND bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n    AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry)\nLIMIT 1;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "bg", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_SUMMARYSTATS", "ST_INTERSECTS", "ST_CLIP"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLIP", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_SummaryStats", "ST_Clip", "ST_Intersects"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Clip DTM raster by footprint of building 021d6573-e91d-409f-89f6-72a608238220 in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf and extract average ground elevation statistics", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C8_clip_raster_by_building_var_50", "complexity_level": "C", "tags": ["raster", "advanced", "cte", "clip", "building", "processing"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "00c2d7d0-83a6-4f68-bb47-a3ece88124be", "census_id": "01a0c47e-abb0-4327-9f30-f5f845b5defa", "voltage_kv": 132.0, "bus_id": "14", "census_zone": "12720001707", "srid": 32633, "overlap_threshold": 70, "buffer_distance": 2000, "max_distance": 500, "cluster_distance": 1000, "min_area": 168, "max_area": 4642, "min_height": 8, "max_height": 76, "min_people": 1, "max_people": 7, "year": 1953, "min_population": 100, "min_buildings": 5, "min_areas": 5, "cluster_count": 8, "min_cluster_size": 3, "min_points": 5, "lon": 15.32923, "lat": 46.463566, "limit": 25}, "generated_at": "2025-11-24T10:45:35.256779", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007252", "database_id": 1, "database_name": "cim_wizard", "question": "Clip DTM raster by footprint of building 0169cc81-9df2-4f16-9390-949e940c5b4c in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a and extract average ground elevation statistics", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '0169cc81-9df2-4f16-9390-949e940c5b4c'\n    AND bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n    AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry);", "sql_spatialite": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '0169cc81-9df2-4f16-9390-949e940c5b4c'\n    AND bp.project_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n    AND bp.scenario_id = '5a00fa63-2ef4-4d38-baa0-48ae5d80d21a'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry)\nLIMIT 1;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "bg", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_SUMMARYSTATS", "ST_INTERSECTS", "ST_CLIP"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLIP", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_SummaryStats", "ST_Clip", "ST_Intersects"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Clip DTM raster by footprint of building 0169cc81-9df2-4f16-9390-949e940c5b4c in project 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a scenario 5a00fa63-2ef4-4d38-baa0-48ae5d80d21a and extract average ground elevation statistics", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C8_clip_raster_by_building_var_53", "complexity_level": "C", "tags": ["raster", "advanced", "cte", "clip", "building", "processing"], "generation_params": {"project_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "scenario_id": "5a00fa63-2ef4-4d38-baa0-48ae5d80d21a", "project_name": "Sansalva_filter", "scenario_name": "sansalva3.5", "building_type": "residential", "building_id": "01808035-47bd-4a6f-81ba-07ef5e44f93d", "census_id": "0086830a-2510-4f23-926d-5d215729cc56", "voltage_kv": 20.0, "bus_id": "6", "census_zone": "11710000046", "srid": 3857, "overlap_threshold": 60, "buffer_distance": 100, "max_distance": 5000, "cluster_distance": 2000, "min_area": 419, "max_area": 2122, "min_height": 3, "max_height": 23, "min_people": 2, "max_people": 17, "year": 2012, "min_population": 500, "min_buildings": 5, "min_areas": 10, "cluster_count": 5, "min_cluster_size": 5, "min_points": 8, "lon": 9.517907, "lat": 39.485296, "limit": 50}, "generated_at": "2025-11-24T10:45:35.257011", "has_limit": false, "has_order_by": false, "limit_strategy": "TOP_N"}
{"id": "cim_007383", "database_id": 1, "database_name": "cim_wizard", "question": "Clip DTM raster by footprint of building 00887359-a93c-4b0c-8cb8-1535ae3ad1f7 in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf and extract average ground elevation statistics", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '00887359-a93c-4b0c-8cb8-1535ae3ad1f7'\n    AND bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n    AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry);", "sql_spatialite": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '00887359-a93c-4b0c-8cb8-1535ae3ad1f7'\n    AND bp.project_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n    AND bp.scenario_id = 'aeba11e7-ab0e-46ca-b89f-4c856c0289bf'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry)\nLIMIT 1;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "bg", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_SUMMARYSTATS", "ST_INTERSECTS", "ST_CLIP"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLIP", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_SummaryStats", "ST_Clip", "ST_Intersects"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Clip DTM raster by footprint of building 00887359-a93c-4b0c-8cb8-1535ae3ad1f7 in project aeba11e7-ab0e-46ca-b89f-4c856c0289bf scenario aeba11e7-ab0e-46ca-b89f-4c856c0289bf and extract average ground elevation statistics", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C8_clip_raster_by_building_var_184", "complexity_level": "C", "tags": ["raster", "advanced", "cte", "clip", "building", "processing"], "generation_params": {"project_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "scenario_id": "e983d9e4-70ce-43e1-b778-03c25d992433", "project_name": "Sansalva_filter_3", "scenario_name": "sansalva3", "building_type": "residential", "building_id": "021d6573-e91d-409f-89f6-72a608238220", "census_id": "02491899-ba02-4ed3-afca-43985ff180d8", "voltage_kv": 20.0, "bus_id": "14", "census_zone": "11830000022", "srid": 4326, "overlap_threshold": 50, "buffer_distance": 1000, "max_distance": 500, "cluster_distance": 5000, "min_area": 450, "max_area": 2823, "min_height": 9, "max_height": 17, "min_people": 2, "max_people": 9, "year": 1989, "min_population": 1000, "min_buildings": 5, "min_areas": 5, "cluster_count": 3, "min_cluster_size": 5, "min_points": 5, "lon": 17.767641, "lat": 43.847683, "limit": 50}, "generated_at": "2025-11-24T10:45:35.267052", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
{"id": "cim_007394", "database_id": 1, "database_name": "cim_wizard", "question": "Clip DTM raster by footprint of building 019d513c-9bea-4f34-89ac-91edd496f40c in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 and extract average ground elevation statistics", "question_tone": "AGGREGATE", "priority": 2, "sql_postgis": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '019d513c-9bea-4f34-89ac-91edd496f40c'\n    AND bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry);", "sql_spatialite": "WITH building_geom AS (\n  SELECT b.building_id, bp.type, b.building_geometry\n  FROM cim_vector.cim_wizard_building b\n  JOIN cim_vector.cim_wizard_building_properties bp ON b.building_id = bp.building_id AND b.lod = bp.lod\n  WHERE b.building_id = '019d513c-9bea-4f34-89ac-91edd496f40c'\n    AND bp.project_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n    AND bp.scenario_id = 'e983d9e4-70ce-43e1-b778-03c25d992433'\n)\nSELECT bg.building_id,\n       bg.type,\n       public.ST_Clip(dtm.rast, bg.building_geometry, true) as clipped_dtm_raster,\n       (public.ST_SummaryStats(public.ST_Clip(dtm.rast, bg.building_geometry, true))).mean as avg_ground_elevation\nFROM building_geom bg\nJOIN cim_raster.dtm dtm ON public.ST_Intersects(dtm.rast, bg.building_geometry)\nLIMIT 1;", "sql_type": "RASTER_VECTOR", "sql_taxonomy": {"operation_type": "RASTER_VECTOR", "has_cte": true, "has_subquery": false, "has_aggregation": false, "has_window_function": false, "join_type": "standard"}, "difficulty": {"query_complexity": "MEDIUM", "spatial_complexity": "ADVANCED", "schema_complexity": "MULTI_SCHEMA", "function_count": "3+", "join_count": "2+", "overall_difficulty": "MEDIUM", "complexity_level": "C", "complexity_score": 3}, "difficulty_level": "MEDIUM", "usage_frequency": "frequent", "database_schema": {"schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "primary_schema": "bg", "table_count": 18, "schema_count": 7}, "spatial_functions": ["ST_SUMMARYSTATS", "ST_INTERSECTS", "ST_CLIP"], "spatial_function_count": 3, "spatial_function_details": [{"name": "ST_SUMMARYSTATS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_INTERSECTS", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}, {"name": "ST_CLIP", "data_type": "vector_only", "usage_frequency": "frequent", "difficulty": "intermediate"}], "evidence": {"database": "cim_wizard", "schemas": ["bg", "b", "dtm", "cim_vector", "cim_raster", "public", "bp"], "tables": ["bg.building_id", "cim_vector.cim_wizard_building", "bp.scenario_id", "public.ST_SummaryStats", "b.building_geometry", "cim_vector.cim_wizard_building_properties", "bp.building_id", "b.lod", "public.ST_Clip", "dtm.rast", "bg.building_geometry", "cim_raster.dtm", "public.ST_Intersects", "bp.type", "bg.type", "bp.project_id", "bp.lod", "b.building_id"], "columns": [], "functions": ["ST_SummaryStats", "ST_Clip", "ST_Intersects"], "template_source": "cim_wizard"}, "instruction": "Convert this natural language question to PostGIS spatial SQL for the CIM Wizard database: Clip DTM raster by footprint of building 019d513c-9bea-4f34-89ac-91edd496f40c in project e983d9e4-70ce-43e1-b778-03c25d992433 scenario e983d9e4-70ce-43e1-b778-03c25d992433 and extract average ground elevation statistics", "results": null, "has_results": true, "stage": "stage1_cim", "generation_method": "rule_based_cim_wizard", "template_id": "CIM_C8_clip_raster_by_building_var_195", "complexity_level": "C", "tags": ["raster", "advanced", "cte", "clip", "building", "processing"], "generation_params": {"project_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "scenario_id": "aeba11e7-ab0e-46ca-b89f-4c856c0289bf", "project_name": "Sansalva_filter_4", "scenario_name": "sansalva4", "building_type": "non-residential", "building_id": "0086830a-2510-4f23-926d-5d215729cc56", "census_id": "029b85a4-6f63-4970-b0e3-2c2875388334", "voltage_kv": 132.0, "bus_id": "9", "census_zone": "12720000215", "srid": 32633, "overlap_threshold": 10, "buffer_distance": 100, "max_distance": 1000, "cluster_distance": 1000, "min_area": 290, "max_area": 4694, "min_height": 7, "max_height": 22, "min_people": 1, "max_people": 11, "year": 2006, "min_population": 100, "min_buildings": 10, "min_areas": 10, "cluster_count": 3, "min_cluster_size": 5, "min_points": 8, "lon": 14.960592, "lat": 41.17361, "limit": 100}, "generated_at": "2025-11-24T10:45:35.267918", "has_limit": false, "has_order_by": false, "limit_strategy": "FULL_RESULTS"}
